(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(189)},108:function(e,t,a){},138:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(11),r=a.n(l),i=(a(108),a(14)),o=a(15),c=a(17),m=a(16),u=a(18),d=a(34),h=a(33),f=a(221),p=a(223),g=Object(f.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},input:{margin:e.spacing(1)}}}),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChangeusername=function(e){a.setState({username:e.target.value})},a.postdata=function(){if(""===a.state.username)alert("\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");else if(a.state.username.length>10)alert("\u30e6\u30fc\u30b6\u30fc\u540d\u306f10\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");else{var e={username:a.state.username,worktime:a.state.worktime};fetch("/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){return a.props.history.push("/Home")})}},a.state={userdata:[],username:"",worktime:"\u65e9"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/userdata").then(function(e){return e.json()}).then(function(t){null==t.regist||t.regist?e.props.history.push("/"):e.setState({userdata:t,username:t.displayName})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Sign Up"),s.a.createElement("div",{className:"profileholder"},s.a.createElement("div",{className:"profilesetting"},s.a.createElement("div",{className:"profilecard"},s.a.createElement("img",{alt:"profile",src:this.state.userdata.picture,id:"profileimage"}),s.a.createElement("p",{id:"linename"},this.state.userdata.displayName)),s.a.createElement("div",null,"\u30e6\u30fc\u30b6\u30fc\u540d\uff1a",s.a.createElement(p.a,{id:"username",value:this.state.username,onChange:this.onChangeusername,className:g.input,inputProps:{"aria-label":"username"},placeholder:"10\u6587\u5b57\u4ee5\u5185"}),s.a.createElement("p",{id:"namesubtitle"},"\u30b5\u30a4\u30c8\u5185\u3067\u4f7f\u7528\u3059\u308b\u540d\u524d\u3092\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044")),s.a.createElement("div",{className:"worktime"},"\u52e4\u52d9\u533a\u5206:",s.a.createElement("span",null,s.a.createElement("input",{type:"radio",name:"worktime",value:"\u65e9",checked:"\u65e9"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u65e9"})}}),"\u65e9\u756a",s.a.createElement("input",{type:"radio",name:"worktime",value:"\u9045",checked:"\u9045"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u9045"})}}),"\u9045\u756a")),s.a.createElement("button",{onClick:this.postdata,className:"bluebutton",id:"registerbutton"},"\u767b\u9332"))))}}]),t}(n.Component),b=a(72),v=a.n(b),E=a(27),k=a.n(E),w=a(6),C=a(224),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={informations:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/informationdatathree").then(function(e){return e.json()}).then(function(t){return e.setState({informations:t})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"infoFlameHolder"},s.a.createElement("div",{id:"infoFlame"},s.a.createElement("span",{id:"infoTitle"},"\u304a\u3057\u3089\u305b"),s.a.createElement("div",null,s.a.createElement("table",{id:"infotable"},s.a.createElement("tbody",null,this.state.informations.map(function(t){return s.a.createElement("tr",{key:t.id},s.a.createElement("td",{id:"infotabledate"},e.slashformatDate(t.date)),s.a.createElement("td",{id:"infotabletitle"},s.a.createElement("span",null,t.title)))})))),s.a.createElement("button",{className:"lightgreenbutton",onClick:this.props.push},"\u4e00\u89a7\u3078")))}},{key:"slashformatDate",value:function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}}]),t}(n.Component),D=(a(138),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).setCalendar=function(e){var t=[],n=[],s=[],l=e;if(1===l.getDate()){if(0<l.getDay())for(var r=new Date(l.getFullYear(),l.getMonth(),0),i=l.getDay()-1;i>=0;i--){var o=new Date(r.getFullYear(),r.getMonth(),r.getDate()-i);t.push(o)}for(var c=1;c<16;c++){var m=new Date(l.getFullYear(),l.getMonth(),c);n.push({date:m})}if(6>=l.getDay())for(var u=1;u<7-l.getDay();u++){var d=new Date(l.getFullYear(),l.getMonth(),15+u);s.push(d)}}else{if(0<l.getDay())for(var h=l.getDay()-1;h>=0;h--){var f=new Date(l.getFullYear(),l.getMonth(),15-h);t.push(f)}for(var p=new Date(l.getFullYear(),l.getMonth()+1,0),g=16;g<p.getDate()+1;g++){var y=new Date(l.getFullYear(),l.getMonth(),g);n.push({date:y})}if(6>p.getDay())for(var b=1;b<7-p.getDay();b++){var v=new Date(p.getFullYear(),p.getMonth()+1,b);s.push(v)}}a.setState({predays:t,days:n,backdays:s})},a.onClickselectMonth=function(){a.setState({isSelectMonth:!a.state.isSelectMonth})},a.onChangeSelectYear=function(e){a.setState({selectYear:e.target.value})},a.onChangeSelectMonth=function(e){a.setState({selectMonth:e.target.value})},a.onClickDecisionMonth=function(){var e=new Date(a.state.selectYear,a.state.selectMonth-1,1);a.setState({printdays:e,isSelectMonth:!1}),a.setCalendar(e)},a.serchPlans=function(e){var t=a.props.plans,n=a.getintdate(e);return t[n]&&t[n].text?t[n].text:""},a.serchShifts=function(e){var t=a.props.shifts,n=a.getintdate(e);return t[n]&&t[n].text?t[n].text:""},a.onClickPre=function(){var e=a.state.printdays;e=1===e.getDate()?0===e.getMonth()?new Date(e.getFullYear()-1,11,16):new Date(e.getFullYear(),e.getMonth()-1,16):new Date(e.getFullYear(),e.getMonth(),1),a.setState({printdays:e}),a.setCalendar(e)},a.onClickBack=function(){var e=a.state.printdays;e=1===e.getDate()?new Date(e.getFullYear(),e.getMonth(),16):11===e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1),a.setState({printdays:e}),a.setCalendar(e)},a.daycssReturn=function(e){switch(e){case 0:return"datepanel-sun";case 6:return"datepanel-sat";default:return"datepanel-def"}},a.isSelect=function(e){return a.state.selectDay===e},a.shiftstyle=function(e){return"x"===e||"\u25b3"===e?"shiftstyle-big":"shiftstyle-default"},a.selectDay=function(e){a.setState({selectDay:e}),a.props.onChange(e)},a.state={weeks:["\u6708","\u706b","\u6c34","\u6728","\u91d1"],months:[1,2,3,4,5,6,7,8,9,10,11,12],years:[2018,2019,2020],selectMonth:"",selectYear:"",predays:[],days:[],backdays:[],printdays:a.props.receptionDate,selectDay:a.props.receptionDate,shifts:[],isSelectMonth:!1,plans:a.props.plans},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setCalendar(this.props.receptionDate),this.setState({shifts:this.props.shifts,selectYear:this.props.receptionDate.getFullYear(),selectMonth:this.props.receptionDate.getMonth()+1})}},{key:"getintdate",value:function(e){return e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"calendar"},s.a.createElement("div",{className:"calendar-header"},s.a.createElement("button",{onClick:this.onClickPre,className:"calendar-monthButton"},"\uff1c"),s.a.createElement("button",{id:"calendar-printmonth",onClick:this.onClickselectMonth},this.state.printdays.getFullYear()," /"," ",this.state.printdays.getMonth()+1),s.a.createElement("button",{onClick:this.onClickBack,className:"calendar-monthButton"},"\uff1e")),this.state.isSelectMonth?s.a.createElement("div",null,s.a.createElement("p",{className:"select-explain-text"},"\u5e74\u3092\u9078\u629e"),s.a.createElement("span",{className:"year-select"},s.a.createElement("select",{value:this.state.selectYear,onChange:function(t){return e.onChangeSelectYear(t)}},this.state.years.map(function(e){return s.a.createElement("option",{key:e},e)}))),s.a.createElement("p",{className:"select-explain-text"},"\u6708\u3092\u9078\u629e"),s.a.createElement("span",{className:"year-select"},s.a.createElement("select",{value:this.state.selectMonth,onChange:function(t){return e.onChangeSelectMonth(t)}},this.state.months.map(function(e){return s.a.createElement("option",{key:e},e)}))),s.a.createElement("br",null),s.a.createElement("button",{id:"select-printmonth-button",onClick:this.onClickDecisionMonth},"\u8868\u793a")):s.a.createElement("span",null,s.a.createElement("div",{className:"calendar-weeks"},s.a.createElement("div",{className:"calendar-week",id:"datepanel-sun"},"\u65e5"),this.state.weeks.map(function(e){return s.a.createElement("div",{className:"calendar-week",key:e},e)}),s.a.createElement("div",{className:"calendar-week",id:"datepanel-sat"},"\u571f")),s.a.createElement("div",{className:"calendar-days"},this.state.predays.map(function(t){return s.a.createElement(N,{date:t.getDate(),plan:e.serchPlans(t),shift:e.serchShifts(t),color:"datepanel-unactive",shiftstyle:e.shiftstyle(e.serchShifts(t)),onClick:function(){return e.selectDay(t)},select:e.isSelect(t),key:t.getDate()})}),this.state.days.map(function(t){return s.a.createElement(N,{date:t.date.getDate(),plan:e.serchPlans(t.date),shift:e.serchShifts(t.date),color:e.daycssReturn(t.date.getDay()),onClick:function(){return e.selectDay(t.date)},select:e.isSelect(t.date),shiftstyle:e.shiftstyle(e.serchShifts(t.date)),key:t.date.getDate()})}),this.state.backdays.map(function(t){return s.a.createElement(N,{date:t.getDate(),plan:e.serchPlans(t),shift:e.serchShifts(t),color:"datepanel-unactive",shiftstyle:e.shiftstyle(e.serchShifts(t)),onClick:function(){return e.selectDay(t)},select:e.isSelect(t),key:t.getDate()})}))))}}]),t}(n.Component)),N=function(e){return s.a.createElement("div",{className:"DatePanel",onClick:e.onClick,id:e.select?"datepanel-select":"DatePanel"},s.a.createElement("span",{id:e.select?"":e.color},e.date),s.a.createElement("div",{className:"datepanel-planarea"},e.plan),s.a.createElement("div",{className:"datepanel-shiftarea",id:e.shiftstyle},e.shift))},M=D,j={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},formcontrol:{fontSize:"10px"}},O=Object(w.a)({root:{"& label.Mui-focused":{color:"#5f28c4"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#5f28c4"}}}})(C.a);k.a.setAppElement("#root");var x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).deadlineEarly=10,a.deadlineLate=24,a.setdefaultshifts=function(e){var t=[],n=!0,s=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var o=r.value;t[o.date]={text:o.detail}}}catch(c){s=!0,l=c}finally{try{n||null==i.return||i.return()}finally{if(s)throw l}}a.setState({default_month_days:t,month_days:t.slice(),isNowLoading:!1})},a.setPlans=function(e){var t=[],n=!0,s=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var o=r.value;t[o.date]={text:o.text}}}catch(c){s=!0,l=c}finally{try{n||null==i.return||i.return()}finally{if(s)throw l}}a.setState({plans:t})},a.setdefaultcomment=function(e){if(""!==e){var t=[],n=!0,s=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var o=r.value,c=new Date(o.date);t[c.getFullYear()+("0"+(c.getMonth()+1)).slice(-2)+("0"+c.getDate()).slice(-2)]={comment:o.text,wishday:o.wishday}}}catch(f){s=!0,l=f}finally{try{n||null==i.return||i.return()}finally{if(s)throw l}}var m=a.state.receptionDate,u=m.getFullYear()+("0"+(m.getMonth()+1)).slice(-2)+("0"+m.getDate()).slice(-2),d="",h="";null!=t[u]&&(d=t[u].comment,h=t[u].wishday),a.setState({default_comments:t.slice(),comments:t,comment:d,wishday:h,nowprintcommentday:u}),a.setComplementdays(m)}},a.getDateReception=function(){var e=a.state.date.getFullYear(),t=a.state.date.getMonth()+1,n=a.state.date.getDate(),s="",l="",r="";if(n<=a.deadlineEarly)l=t+"/10\u307e\u3067("+(s=t+"/16\uff5e"+t+"/"+new Date(e,t,0).getDate())+")",r=e+"/"+t+"/16";else if(n>a.deadlineLate){12===t&&(e++,t=0),l=t+1+"/10\u307e\u3067("+(s=t+1+"/16\uff5e"+(t+1)+"/"+new Date(e,t,0).getDate())+")",r=e+"/"+(t+1)+"/16"}else 12===t&&(e++,t=0),l=t+"/24\u307e\u3067("+(s=t+1+"/1\uff5e"+(t+1)+"/15")+")",r=e+"/"+(t+1)+"/1";a.setState({complementdaysText:s,deadline:l,receptionDate:new Date(r)})},a.setComplementdays=function(e){var t=e.getMonth()+1,n=e.getDate(),s="";if(1===n)s=t+"/1\uff5e"+t+"/15";else if(16===n){s=t+"/16\uff5e"+t+"/"+new Date(e.getFullYear(),t,0).getDate()}a.setState({complementdaysText:s})},a.onClickstamp=function(e){a.setState({stamp:e})},a.dayClick=function(e){if(a.state.receptionDate<=e){var t=a.state.month_days,n=e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2);a.setState({clickdate:n}),null==t[n]||""===t[n].text?"time"===a.state.stamp?a.openModal():(t[n]={text:a.state.stamp},a.setState({month_days:t})):a.state.stamp===t[n].text?(t[n]={text:""},a.setState({month_days:t})):a.state.stamp!==t[n].text&&("time"===a.state.stamp?t[n]={text:""}:(t[n]={text:a.state.stamp},a.setState({month_days:t})))}},a.dayspreOnclick=function(){a.dayspreback("pre")},a.daysbackOnclick=function(){a.dayspreback("back")},a.dayspreback=function(e){var t=a.state.comments;t[a.state.nowprintcommentday]={comment:a.state.comment,wishday:a.state.wishday},a.setState({comments:t});var n=a.state.nowprintcommentday,s=(n.substr(0,4)+"/"+n.substr(4,2)+"/"+n.substr(6,2)).split("/"),l=new Date(s[0],s[1]-1,s[2]),r=l.getFullYear(),i=l.getMonth(),o=l.getDate();if("pre"===e?16===o?o=1:0===i?(r--,i=11,o=16):(i--,o=16):"back"===e&&(1===o?o=16:11===i?(r++,i=0,o=1):(i++,o=1)),null==a.state.comments[a.getintdate(r,i,o)]){var c=a.state.comments;c[a.getintdate(r,i,o)]={comment:"",wishday:""},a.setState({comments:c})}a.setComplementdays(new Date(r,i,o)),a.setState({comment:a.state.comments[a.getintdate(r,i,o)].comment,wishday:a.state.comments[a.getintdate(r,i,o)].wishday,nowprintcommentday:a.getintdate(r,i,o)})},a.wishdayOnchange=function(e){a.setState({wishday:e.target.value})},a.commentOnchange=function(e){a.setState({comment:e.target.value})},a.openModal=function(){a.setState({modalIsOpen:!0})},a.closeModal=function(){a.setState({modalIsOpen:!1})},a.setShiftTime=function(){if(a.state.startTime>=a.state.endTime)alert("\u4e0d\u53ef\u80fd\u306a\u6642\u9593\u3067\u3059");else{a.closeModal();var e=a.state.month_days;e[a.state.clickdate]={text:a.state.startTime+"-"+a.state.endTime},a.setState({month_days:e})}},a.startTimeChange=function(e){a.setState({startTime:e.target.value})},a.endTimeChange=function(e){a.setState({endTime:e.target.value})},a.addDataOnClick=function(){var e=a.state.comments;e[a.state.nowprintcommentday]={comment:a.state.comment,wishday:a.state.wishday},a.setState({comments:e});var t=a.state.default_month_days,n=a.state.month_days,s=[];for(var l in n)null==t[l]&&(s[l]={text:n[l].text});var r=[];for(var i in t)""===n[i].text&&(r[i]={text:t[i].text});var o=[];for(var c in n)null!=t[c]&&""!==n[c].text&&t[c].text!==n[c].text&&(o[c]={text:n[c].text});s.length>0&&(a.setState({isUpdateshift:a.state.isUpdateshift.concat("add")}),a.dbUpdater("/addshiftdata",s)),r.length>0&&(a.setState({isUpdateshift:a.state.isUpdateshift.concat("delete")}),a.dbUpdater("/deleteshiftdata",r)),o.length>0&&(a.setState({isUpdateshift:a.state.isUpdateshift.concat("update")}),a.dbUpdater("/updateshiftdata",o));var m=[];for(var u in a.state.comments)null==a.state.default_comments[u]&&m.push({date:u,comment:a.state.comments[u].comment,wishday:a.state.comments[u].wishday});var d=[];for(var h in a.state.default_comments)a.state.comments[h].comment===a.state.default_comments[h].comment&&a.state.comments[h].wishday===a.state.default_comments[h].wishday||d.push({date:h,comment:a.state.comments[h].comment,wishday:a.state.comments[h].wishday});fetch("/updatecommentdata",{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}),fetch("/addcommentdata",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){return alert("\u767b\u9332\u3057\u307e\u3057\u305f")}),a.shiftupdateChecker("")},a.dbUpdater=function(e,t){var n=[];for(var s in t)n.push({date:s,text:t[s].text});fetch(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){return a.shiftupdateChecker(e)})},a.shiftupdateChecker=function(e){if(""!==e){var t=[],n=!0,s=!1,l=void 0;try{for(var r,i=a.state.isUpdateshift[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var o=r.value;o!==e&&t.push(o)}}catch(c){s=!0,l=c}finally{try{n||null==i.return||i.return()}finally{if(s)throw l}}t.length<=0&&(fetch("/shiftdata").then(function(e){return e.json()}).then(function(e){return a.setdefaultshifts(e)}),fetch("/getcommentdata").then(function(e){return e.json()}).then(function(e){return a.setdefaultcomment(e)})),a.setState({isUpdateshift:t})}else a.state.isUpdateshift.length<=0&&(fetch("/shiftdata").then(function(e){return e.json()}).then(function(e){return a.setdefaultshifts(e)}),fetch("/getcommentdata").then(function(e){return e.json()}).then(function(e){return a.setdefaultcomment(e)}))},a.pushtoInfomation=function(){a.props.history.push("/Information")},a.state={userdata:[],date:new Date,receptionDate:new Date,stamp:"x",stamptime:"",deadline:"",default_month_days:[],month_days:[],shifttimes:["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30","23:45"],startTime:"09:00",endTime:"09:00",complementdaysText:"",wishdays:["",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],default_comments:[],comments:[],wishday:"",comment:"",nowprintcommentday:"",modalIsOpen:!1,isUpdateshift:[],informations:[],isNowLoading:!0,plans:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getDateReception(),fetch("/userdata").then(function(e){return e.json()}).then(function(t){return e.setState({userdata:t})}),fetch("/shiftdata").then(function(e){return e.json()}).then(function(t){return e.setdefaultshifts(t)}),fetch("/getcommentdata").then(function(e){return e.json()}).then(function(t){return e.setdefaultcomment(t)}),fetch("/plandata").then(function(e){return e.json()}).then(function(t){return e.setPlans(t)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{id:"personalheader"},s.a.createElement(d.b,{to:"/Setting",id:"setting"},s.a.createElement("div",{id:"settingimg"})),s.a.createElement("a",{href:"/logout"},s.a.createElement("span",{className:"redbutton"},"\u30ed\u30b0\u30a2\u30a6\u30c8"))),s.a.createElement("h1",null,"Home"),"\u3088\u3046\u3053\u305d\uff01",this.state.userdata.username,"\u3055\u3093",s.a.createElement("h2",{className:"reception"},this.state.receptionDate.getFullYear()," ",this.state.receptionDate.getMonth()+1,"\u6708",this.state.receptionDate.getDate(),"\u65e5\uff5e\u53d7\u4ed8\u4e2d"),s.a.createElement("div",{id:"dateText"},this.state.deadline),s.a.createElement(S,{push:this.pushtoInfomation}),s.a.createElement("div",{className:"itemholder"},s.a.createElement("button",{className:"redbutton",onClick:this.onClickstamp.bind(this,"x")},"\u2715"),s.a.createElement("button",{className:"greenbutton",onClick:this.onClickstamp.bind(this,"\u25b3")},"\u25b3"),s.a.createElement("button",{className:"bluebutton",onClick:this.onClickstamp.bind(this,"time")},"\u6642\u9593\u6307\u5b9a")),this.state.isNowLoading?"\u8aad\u307f\u8fbc\u307f\u4e2d":s.a.createElement("div",{id:"shift-holder"},s.a.createElement("div",{id:"newcalendar"},s.a.createElement(M,{receptionDate:this.state.receptionDate,plans:this.state.plans,shifts:this.state.month_days,onChange:function(t){return e.dayClick(t)}})),s.a.createElement("div",{className:"flameholder"},s.a.createElement("div",{className:"flame"},"\u88dc\u8db3\u5e0c\u671b:",this.state.complementdaysText,s.a.createElement("span",{id:"termbuttons"},s.a.createElement("button",{onClick:this.dayspreOnclick,className:"bluebutton"},"\u25c1"),s.a.createElement("button",{onClick:this.daysbackOnclick,className:"bluebutton"},"\u25b7")),s.a.createElement("br",null),s.a.createElement("div",{id:"wishday"},"\u5e0c\u671b\u51fa\u52e4\u65e5\u6570\uff1a",s.a.createElement("select",{onChange:this.wishdayOnchange,value:this.state.wishday},this.state.wishdays.map(function(e){return s.a.createElement("option",{key:e},e)})),"\u65e5"),s.a.createElement("div",null,s.a.createElement(O,{id:"outlined-name",label:"\u8ffd\u8a18",value:this.state.comment,onChange:this.commentOnchange,margin:"normal",variant:"outlined",placeholder:"\u5e0c\u671b\u3092\u8a18\u5165"}))),s.a.createElement("button",{id:"submit_shiftdata",onClick:this.addDataOnClick},"\u767b\u9332"))),s.a.createElement(k.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:j,contentLabel:"worktime Modal"},s.a.createElement("h2",{className:"modaltitle"},"\u51fa\u52e4\u53ef\u80fd\u6642\u9593\u3092\u9078\u629e"),s.a.createElement("div",null,s.a.createElement("select",{className:"timeselect",onChange:this.startTimeChange,value:this.state.startTime},this.state.shifttimes.map(function(e){return s.a.createElement("option",{key:e},e)})),"\uff5e",s.a.createElement("select",{className:"timeselect",onChange:this.endTimeChange,value:this.state.endTime},this.state.shifttimes.map(function(e){return s.a.createElement("option",{key:e},e)}))),s.a.createElement("button",{className:"redbutton",onClick:this.closeModal},"\u9589\u3058\u308b"),s.a.createElement("button",{className:"bluebutton",onClick:this.setShiftTime},"\u6c7a\u5b9a")))}},{key:"getintdate",value:function(e,t,a){return e+("0"+(t+1)).slice(-2)+("0"+a).slice(-2)}},{key:"slashformatDate",value:function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}},{key:"getFormatDate",value:function(e){return"".concat(e.getFullYear()).concat(("0"+(e.getMonth()+1)).slice(-2)).concat(("0"+e.getDate()).slice(-2))}},{key:"afterOpenModal",value:function(){}}]),t}(n.Component),T=Object(f.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},input:{margin:e.spacing(1)}}}),I={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};k.a.setAppElement("#root");var F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).loadmemberlist=function(){fetch("/memberlist").then(function(e){return e.json()}).then(function(e){a.setState({memberlist:e});var t=[],n=[],s=!0,l=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var c=i.value;c.administer?t.push(c):n.push(c)}}catch(m){l=!0,r=m}finally{try{s||null==o.return||o.return()}finally{if(l)throw r}}a.setState({administerlist:t,nonadministerlist:n,addministeroption:n[0]})})},a.isNowloading=function(e){""===e||""===e.username?alert("\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"):a.setState({isNowloading:!1})},a.onChangeusername=function(e){a.setState({username:e.target.value})},a.updateUsername=function(){a.state.username!==a.state.userdata.username&&(""===a.state.username?alert("\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"):a.state.username.length>10?alert("\u30e6\u30fc\u30b6\u30fc\u540d\u306f10\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"):fetch("/updateusername",{method:"POST",body:JSON.stringify([a.state.username]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u767b\u9332\u3057\u307e\u3057\u305f");var t=a.state.userdata;t.username=a.state.username,a.setState({userdata:t})}))},a.onChangeworktime=function(){a.setState({ischangeworktime:!0})},a.setworktime=function(){if(a.state.userdata.worktime!==a.state.worktime){fetch("/updateworktime",{method:"POST",body:JSON.stringify([a.state.worktime]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()});var e=a.state.userdata;e.worktime=a.state.worktime,a.setState({userdata:e})}a.setState({ischangeworktime:!1})},a.onClickunsubsribe=function(){window.confirm("\u9000\u4f1a\u3057\u307e\u3059\u304b\uff1f\n\u5168\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u304c\u524a\u9664\u3055\u308c\u307e\u3059")&&(fetch("/deleteuser",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}),fetch("/logout").then(function(e){return e.json()}),a.pushtoHome())},a.pushtoHome=function(){a.props.history.push("/")},a.pushtoInformation=function(){a.props.history.push("/Information")},a.openmemberModal=function(){a.setState({memberModalopen:!0})},a.closememberModal=function(){a.setState({memberModalopen:!1})},a.onClickdeletemember=function(e){window.confirm(e.name+"\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f\n\u8a72\u5f53\u30e6\u30fc\u30b6\u30fc\u306e\u30b7\u30d5\u30c8\u60c5\u5831\u3082\u524a\u9664\u3055\u308c\u307e\u3059")&&fetch("/deletemember",{method:"POST",body:JSON.stringify([e.userid]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.closememberModal(),a.loadmemberlist()})},a.onClickdeleteadminister=function(e){window.confirm(e.name+"\u306e\u7ba1\u7406\u8005\u6a29\u9650\u3092\u5265\u596a\u3057\u307e\u3059\u304b\uff1f")&&fetch("/deleteadminister",{method:"POST",body:JSON.stringify([e.userid]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.closeadministerModal(),a.loadmemberlist()})},a.onChangeaddministeroption=function(e){var t=!0,n=!1,s=void 0;try{for(var l,r=a.state.nonadministerlist[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var i=l.value;if(i.name===e.target.value){a.setState({addministeroption:i});break}}}catch(o){n=!0,s=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw s}}},a.onClickadminister=function(){a.setState({isAddadminister:!0})},a.onClickaddAdminister=function(){var e=a.state.addministeroption;window.confirm(e.name+"\u306b\u7ba1\u7406\u8005\u6a29\u9650\u3092\u6388\u4e0e\u3057\u307e\u3059\u304b\uff1f")&&fetch("/addadminister",{method:"POST",body:JSON.stringify([e.userid]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.closeadministerModal(),a.loadmemberlist()})},a.closeadministerModal=function(){a.setState({administerModalopen:!1,isAddadminister:!1})},a.state={userdata:[],username:"",worktime:"",memberlist:[],administerlist:[],nonadministerlist:[],addministeroption:[],ischangeworktime:!1,test:"",memberModalopen:!1,administerModalopen:!1,isAddadminister:!1,isNowloading:!0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/userdata").then(function(e){return e.json()}).then(function(t){e.isNowloading(t),e.setState({userdata:t,username:t.username,worktime:t.worktime}),t.administer&&e.loadmemberlist()})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Settings"),this.state.isNowloading?s.a.createElement("span",null,"\u8aad\u307f\u8fbc\u307f\u4e2d"):s.a.createElement("div",null,s.a.createElement("div",{className:"profileholder"},s.a.createElement("div",{className:"profilesetting"},s.a.createElement("div",{className:"profilecard"},s.a.createElement("img",{src:this.state.userdata.picture,id:"profileimage",alt:"profile"}),s.a.createElement("p",{id:"linename"},this.state.userdata.displayName)),s.a.createElement("div",null,"\u30e6\u30fc\u30b6\u30fc\u540d",s.a.createElement(p.a,{id:"username",value:this.state.username,onChange:this.onChangeusername,className:T.input,inputProps:{"aria-label":"username"},placeholder:"10\u6587\u5b57\u4ee5\u5185"}),s.a.createElement("button",{onClick:this.updateUsername,className:"bluebutton",id:"updatebutton"},"\u66f4\u65b0")),s.a.createElement("div",{className:"worktime"},"\u52e4\u52d9\u533a\u5206:",this.state.ischangeworktime?s.a.createElement("span",null,s.a.createElement("input",{type:"radio",name:"worktime",value:"\u65e9",checked:"\u65e9"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u65e9"})}}),"\u65e9\u756a",s.a.createElement("input",{type:"radio",name:"worktime",value:"\u9045",checked:"\u9045"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u9045"})}}),"\u9045\u756a",s.a.createElement("button",{onClick:this.setworktime,className:"bluebutton"},"\u66f4\u65b0")):s.a.createElement("span",null,this.state.userdata.worktime,"\u756a",s.a.createElement("button",{onClick:this.onChangeworktime,className:"bluebutton"},"\u5909\u66f4"))),s.a.createElement("button",{onClick:this.onClickunsubsribe,className:"redbutton",id:"disbutton"},"\u9000\u4f1a"))),s.a.createElement("div",{style:{display:this.state.userdata.administer?"":"none"},className:"administerview"},s.a.createElement("h2",{className:"administerheader"},"\u7ba1\u7406\u8005\u6a29\u9650"),s.a.createElement(d.b,{to:"/Wishlist"},s.a.createElement("span",{className:"administerbutton",id:"wishlistbutton"},"\u5e0c\u671b\u4e00\u89a7")),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.pushtoInformation,className:"administerbutton",style:{width:"250px"}},"\u304a\u77e5\u3089\u305b\u914d\u4fe1"),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.openmemberModal,className:"administerbutton"},"\u767b\u9332\u8005\u4e00\u89a7"),s.a.createElement("button",{onClick:function(t){return e.setState({administerModalopen:!0})},className:"administerbutton"},"\u7ba1\u7406\u8005\u4e00\u89a7")),s.a.createElement(k.a,{isOpen:this.state.memberModalopen,onRequestClose:this.closememberModal,style:I,contentLabel:"Register Modal"},s.a.createElement("h2",{className:"modaltitle"},"\u767b\u9332\u8005\u4e00\u89a7"),this.state.memberlist.map(function(t){return s.a.createElement("div",{key:t.userid},t.name,s.a.createElement("span",{style:{display:t.userid!==e.state.userdata.userId?"":"none"}},s.a.createElement("button",{className:"redbutton",value:t.userid,onClick:function(a){return e.onClickdeletemember(t)}},"\u767b\u9332\u524a\u9664")))}),s.a.createElement("button",{className:"redbutton",onClick:this.closememberModal},"\u9589\u3058\u308b")),s.a.createElement(k.a,{isOpen:this.state.administerModalopen,onRequestClose:this.closeadministerModal,style:I,contentLabel:"Administer Modal"},s.a.createElement("h2",{className:"modaltitle"},"\u7ba1\u7406\u8005\u4e00\u89a7"),this.state.administerlist.map(function(t){return s.a.createElement("div",{key:t.userid},t.name,s.a.createElement("span",{style:{display:t.userid!==e.state.userdata.userId?"":"none"}},s.a.createElement("button",{className:"redbutton",onClick:function(a){return e.onClickdeleteadminister(t)}},"\u89e3\u9664")))}),this.state.isAddadminister&&this.state.nonadministerlist.length>0?s.a.createElement("span",null,s.a.createElement("select",{className:"timeselect",onChange:this.onChangeaddministeroption,value:this.state.addministeroption.name},this.state.nonadministerlist.map(function(e){return s.a.createElement("option",null,e.name)})),s.a.createElement("button",{className:"bluebutton",onClick:function(t){return e.onClickaddAdminister()}},"\u8ffd\u52a0")):s.a.createElement("button",{className:"bluebutton",onClick:function(t){return e.onClickadminister()}},"\u8ffd\u52a0"),s.a.createElement("button",{className:"redbutton",onClick:this.closeadministerModal},"\u9589\u3058\u308b"))))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).setdefaultDays=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),s=e.getDate(),l="";s<a.state.deadlineearly?l=new Date(t,n,1):s<a.state.deallinelate?l=new Date(t,n,16):s>=a.state.deallinelate&&(l=11===n?new Date(t+1,n+1,1):new Date(t,n+1,1)),a.setprintDays(l)},a.onClickchangeterm=function(e){var t=a.state.startdate,n=t.getFullYear(),s=t.getMonth(),l=t.getDate(),r=e.target.value;"pre"===r?16===l?l=1:1===l&&(0===s?(n--,s=11,l=16):(s--,l=16)):"back"===r&&(1===l?l=16:16===l&&(11===s?(n++,s=0,l=1):(s++,l=1)));var i=new Date(n,s,l);a.setState({startdate:i}),a.setprintDays(i),a.sortmembershift(a.state.memberlist,a.state.allshiftdata,i),a.sortmembercomment(a.state.memberlist,a.state.allcommentdata,i)},a.setprintDays=function(e){var t=[];if(1===e.getDate())for(var n=0;n<15;n++)t.push(e.getMonth()+1+"/"+(e.getDate()+n));else if(16===e.getDate())for(var s=new Date(e.getFullYear(),e.getMonth()+1,0),l=0;l<s.getDate()-e.getDate()+1;l++)t.push(e.getMonth()+1+"/"+(e.getDate()+l));a.setState({startdate:e,printdays:t})},a.sortmembershift=function(e,t,n){var s=n,l="",r=[];1===s.getDate()?(l=new Date(s.getFullYear(),s.getMonth(),15),r=Array(15)):16===s.getDate()&&(l=new Date(s.getFullYear(),s.getMonth()+1,0),r=Array(l.getDate()-15));var i=[],o=!0,c=!1,m=void 0;try{for(var u,d=e[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value,f=r.slice();f.fill("/");var p=!0,g=!1,y=void 0;try{for(var b,v=t[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){var E=b.value;if(E.userid===h.userid){var k=String(E.date),w=parseInt(k.slice(0,4)),C=parseInt(k.slice(4,6)),S=parseInt(k.slice(6));w===s.getFullYear()&&C===s.getMonth()+1&&S>=s.getDate()&&S<=l.getDate()&&(f[S-s.getDate()]=E.detail)}}}catch(D){g=!0,y=D}finally{try{p||null==v.return||v.return()}finally{if(g)throw y}}i.push({name:h.name,shift:f})}}catch(D){c=!0,m=D}finally{try{o||null==d.return||d.return()}finally{if(c)throw m}}a.setState({printlist:i})},a.sortmembercomment=function(e,t,n){var s=n,l=[],r=!0,i=!1,o=void 0;try{for(var c,m=e[Symbol.iterator]();!(r=(c=m.next()).done);r=!0){var u=c.value,d=!1,h=!0,f=!1,p=void 0;try{for(var g,y=t[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){var b=g.value;if(u.userid===b.userid){var v=new Date(b.date);if(s.getFullYear()+"/"+s.getMonth()+"/"+s.getDate()===v.getFullYear()+"/"+v.getMonth()+"/"+v.getDate()){l.push({name:u.name,wishday:b.wishday,comment:b.text}),d=!0;break}}}}catch(E){f=!0,p=E}finally{try{h||null==y.return||y.return()}finally{if(f)throw p}}d||(l.push({name:u.name,wishday:"",comment:""}),d=!1)}}catch(E){i=!0,o=E}finally{try{r||null==m.return||m.return()}finally{if(i)throw o}}a.setState({printcommentlist:l})},a.state={nowloading:!0,accessable:!1,memberlist:[],allshiftdata:[],allcommentdata:[],printlist:[],printcommentlist:[],deadlineearly:10,deallinelate:24,startdate:"",printdays:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/userdata").then(function(e){return e.json()}).then(function(t){t.administer?(e.setState({accessable:!0}),e.setdefaultDays(),fetch("/memberlist").then(function(e){return e.json()}).then(function(t){e.setState({memberlist:t}),fetch("/allshiftdata").then(function(e){return e.json()}).then(function(a){e.setState({allshiftdata:a}),e.sortmembershift(t,a,e.state.startdate)}),fetch("/allcommentdata").then(function(e){return e.json()}).then(function(a){e.setState({allcommentdata:a,nowloading:!1}),e.sortmembercomment(t,a,e.state.startdate)})})):e.setState({nowloading:!1})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.nowloading?s.a.createElement("div",null,"\u8aad\u307f\u8fbc\u307f\u4e2d"):s.a.createElement("div",null,this.state.accessable?s.a.createElement("div",null,s.a.createElement("h1",null,"Wishlist"),"\u30b7\u30d5\u30c8\u5e0c\u671b\u4e00\u89a7",s.a.createElement("button",{className:"bluebutton",value:"pre",onClick:this.onClickchangeterm},"\u25c1"),s.a.createElement("button",{className:"bluebutton",value:"back",onClick:this.onClickchangeterm},"\u25b7"),s.a.createElement("div",{className:"shittablediv"},s.a.createElement("table",{className:"shifttable"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"blank"},"\u540d\u524d"),this.state.printdays.map(function(e){return s.a.createElement("th",{key:e},e)}))),s.a.createElement("tbody",null,this.state.printlist.map(function(e){return s.a.createElement("tr",{key:e.name},s.a.createElement("th",{key:e.name},e.name),e.shift.map(function(e){return s.a.createElement("td",null,e)}))})))),s.a.createElement("div",{className:"wishtablediv"},s.a.createElement("h2",null,"\u88dc\u8db3\u5e0c\u671b"),s.a.createElement("table",{className:"wishtable"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"tableheader"},s.a.createElement("th",{className:"tablename"},"\u540d\u524d"),s.a.createElement("th",{className:"tableday"},"\u65e5\u6570"),s.a.createElement("th",{className:"tablecomment"},"\u8ffd\u8a18"))),s.a.createElement("tbody",null,this.state.printcommentlist.map(function(e){return s.a.createElement("tr",{key:e.name},s.a.createElement("td",{className:"tablename"},e.name),s.a.createElement("td",{className:"tableday"},e.wishday),s.a.createElement("td",{className:"tablecommenttd"},e.comment))}))))):s.a.createElement("div",null,"\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093")))}}]),t}(n.Component),P={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};k.a.setAppElement("#root");var _=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).fetchInfodata=function(){fetch("/informationdata").then(function(e){return e.json()}).then(function(e){return a.setState({informations:e})})},a.changeNewpost=function(){a.state.newpost?a.setState({newpost:!1}):a.setState({newpost:!0})},a.onChangeTitle=function(e){a.setState({title:e.target.value})},a.onChangeMessage=function(e){a.setState({message:e.target.value})},a.addInformation=function(){if(""===a.state.title)alert("\u30bf\u30a4\u30c8\u30eb\u3092\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044");else{var e={title:a.state.title,message:a.state.message};console.log(e),fetch("/addinformationdata",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u6295\u7a3f\u3057\u307e\u3057\u305f"),a.fetchInfodata()})}},a.dateformater=function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},a.openModal=function(e){a.setState({modal:!0,selectinfo:a.serchInfobyId(e.target.value)})},a.closeModal=function(){a.setState({modal:!1})},a.openChangeableModal=function(e){a.setState({changeablemodal:!0,selectinfo:a.serchInfobyId(e.target.value)})},a.closeChangeableModal=function(){a.setState({changeablemodal:!1})},a.serchInfobyId=function(e){var t=!0,n=!1,s=void 0;try{for(var l,r=a.state.informations[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var i=l.value;if(parseInt(e)===i.id)return Object.assign({},i)}}catch(o){n=!0,s=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw s}}},a.updateTitle=function(e){var t=a.state.selectinfo;t.title=e.target.value,a.setState({selectinfo:t})},a.updateMessage=function(e){var t=a.state.selectinfo;t.message=e.target.value,a.setState({selectinfo:t})},a.updateInfo=function(){var e=a.state.selectinfo,t=a.serchInfobyId(e.id);t.title===e.title&&t.message===e.message||fetch("/updateinformationdata",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u66f4\u65b0\u3057\u307e\u3057\u305f"),a.closeChangeableModal(),a.fetchInfodata()})},a.deleteInfo=function(e){window.confirm("\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")&&fetch("/deleteinformationdata",{method:"POST",body:JSON.stringify([e.target.value]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u524a\u9664\u3057\u307e\u3057\u305f"),a.fetchInfodata()})},a.state={newpost:!1,userdata:[],informations:[],title:"",message:"",changeablemodal:!1,modal:!1,selectinfo:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/userdata").then(function(e){return e.json()}).then(function(t){return e.setState({userdata:t})}),this.fetchInfodata()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Information"),this.state.userdata.administer?s.a.createElement("button",{onClick:this.changeNewpost,className:"administerbuttonreverse",style:{width:"200px"}},this.state.newpost?"\u3068\u3058\u308b \u25b3":"\u65b0\u898f\u6295\u7a3f \u25bd"):"",this.state.newpost?s.a.createElement("div",null,"\u30bf\u30a4\u30c8\u30eb",s.a.createElement("input",{id:"newInfomationtitle",onChange:this.onChangeTitle,placeholder:"17\u6587\u5b57\u4ee5\u5185\u63a8\u5968"}),s.a.createElement("br",null),s.a.createElement("div",{id:"newInfomessageFlame"},s.a.createElement("p",{id:"newInfomessageTop"},"\u672c\u6587"),s.a.createElement("textarea",{id:"newInfomessageText",onChange:this.onChangeMessage})),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.addInformation,className:"bluebutton",style:{width:"200px"}},"\u6295\u7a3f")):"",s.a.createElement("div",{id:"infoFlameHolder"},s.a.createElement("div",{id:"infoFlame"},s.a.createElement("p",{id:"infoTableHeader"},"\u304a\u77e5\u3089\u305b\u4e00\u89a7"),s.a.createElement("table",{className:"infoTable"},s.a.createElement("thead",null,this.state.modal||this.state.changeablemodal?s.a.createElement("tr",null):s.a.createElement("tr",null,s.a.createElement("th",{className:"blank",id:"infoTableth"},"\u65e5\u4ed8"),s.a.createElement("th",{className:"blank",id:"infoTablethtitle"},"\u30bf\u30a4\u30c8\u30eb"),this.state.userdata.administer?s.a.createElement("th",{className:"blank",id:"infoTableth"},"\u5909\u66f4\u524a\u9664"):s.a.createElement("th",null))),s.a.createElement("tbody",null,this.state.informations.map(function(t){return s.a.createElement("tr",{key:t.id,id:"infotr"},s.a.createElement("td",null,s.a.createElement("button",{value:t.id,onClick:e.openModal,className:"infotablebutton"},e.dateformater(t.date))),s.a.createElement("td",null,s.a.createElement("button",{value:t.id,onClick:e.openModal,className:"infotablebutton"},t.title)),e.state.userdata.administer?s.a.createElement("td",null,s.a.createElement("button",{onClick:e.openChangeableModal,className:"bluebutton",value:t.id},"\u5909\u66f4"),s.a.createElement("button",{onClick:e.deleteInfo,className:"redbutton",value:t.id},"\u524a\u9664")):s.a.createElement("td",null))}))))),s.a.createElement(k.a,{isOpen:this.state.modal,onRequestClose:this.closeModal,style:P,contentLabel:"Register Modal"},s.a.createElement("input",{id:"informationTitle",value:this.state.selectinfo.title,readOnly:!0}),s.a.createElement("br",null),s.a.createElement("div",null,"\u6295\u7a3f\u65e5 ",this.dateformater(this.state.selectinfo.date)),s.a.createElement("div",{id:"newInfomessageFlame"},s.a.createElement("p",{id:"newInfomessageTop"},"\u672c\u6587"),s.a.createElement("textarea",{id:"newInfomessageText",value:this.state.selectinfo.message,readOnly:!0}))),s.a.createElement(k.a,{isOpen:this.state.changeablemodal,onRequestClose:this.closeChangeableModal,style:P,contentLabel:"Register Modal"},s.a.createElement("input",{id:"informationTitle",onChange:this.updateTitle,value:this.state.selectinfo.title}),s.a.createElement("div",null,"\u6295\u7a3f\u65e5 ",this.dateformater(this.state.selectinfo.date)),s.a.createElement("div",{id:"newInfomessageFlame"},s.a.createElement("p",{id:"newInfomessageTop"},"\u672c\u6587"),s.a.createElement("textarea",{id:"newInfomessageText",value:this.state.selectinfo.message,onChange:this.updateMessage})),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.updateInfo,className:"bluebutton",style:{width:"120px"}},"\u5909\u66f4"),s.a.createElement("button",{onClick:this.closeChangeableModal,className:"redbutton",style:{width:"120px"}},"\u9589\u3058\u308b")))}}]),t}(n.Component),A=a(101),J=a(98),U=a.n(J),R=(a(185),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).loadPlans=function(){fetch("plandata").then(function(e){return e.json()}).then(function(e){return a.setPlans(e)})},a.setPlans=function(e){var t=[],n=!0,s=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var o=r.value;t[o.date]={text:o.text,date:o.date}}}catch(c){s=!0,l=c}finally{try{n||null==i.return||i.return()}finally{if(s)throw l}}a.setState({plans:t})},a.onChangeSelectDate=function(e){a.setState({selectdate:e})},a.onChangeAddText=function(e){a.setState({addplanText:e.target.value})},a.onClickAddPlan=function(){if(""!==a.state.addplanText){var e=a.getFormatDate(a.state.selectdate),t={text:a.state.addplanText,date:e};a.state.plans[e]?window.confirm("\u3059\u3067\u306b\u4e88\u5b9a\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e0a\u66f8\u304d\u3057\u307e\u3059\u304b\uff1f\n\u4e88\u5b9a\uff1a\u300c"+a.state.plans[e].text+"\u300d")&&fetch("/updateaddplandata",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u4e0a\u66f8\u304d\u3057\u307e\u3057\u305f"),a.loadPlans()}):fetch("/addplandata",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u8ffd\u52a0\u3057\u307e\u3057\u305f"),a.loadPlans()})}else alert("\u4e88\u5b9a\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},a.onClickDeletePlan=function(e){window.confirm("\u524a\u9664\u3057\u307e\u3059\u304b\uff1f\n\u4e88\u5b9a\uff1a\u300c"+a.state.plans[e].text+"\u300d")&&fetch("/deleteplandata",{method:"POST",body:JSON.stringify([e]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.loadPlans()})},a.state={plans:[],selectdate:new Date,addplanText:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("userdata").then(function(e){return e.json()}).then(function(t){t.administer?e.loadPlans():(alert("\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093"),e.props.history.push("/"))})}},{key:"getFormatDate",value:function(e){return"".concat(e.getFullYear()).concat(("0"+(e.getMonth()+1)).slice(-2)).concat(("0"+e.getDate()).slice(-2))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Plan"),s.a.createElement("div",{className:"flame",id:"plan-addflame"},s.a.createElement("p",{id:"addplanTitle"},"\u4e88\u5b9a\u8ffd\u52a0"),s.a.createElement("span",{id:"namesubtitle"},"\u5404\u65e5\u4ed8\u306b\u3064\u304d\uff11\u4ef6\u306e\u307f"),s.a.createElement("div",null,"\u65e5\u4ed8",s.a.createElement(L,{onChange:function(t){return e.onChangeSelectDate(t)}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"\u4e88\u5b9a\u3092\u5165\u529b(\uff14\u6587\u5b57\u4ee5\u5185)",maxLength:"4",className:"plan-input",value:this.state.addplanText,onChange:this.onChangeAddText})),s.a.createElement("button",{className:"bluebutton",id:"plan-addbutton",onClick:this.onClickAddPlan},"\u8ffd\u52a0")),s.a.createElement("div",null,s.a.createElement("span",null,"\u30ea\u30b9\u30c8"),s.a.createElement("span",null,"\u30ab\u30ec\u30f3\u30c0\u30fc")),s.a.createElement("div",null,s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,"\u65e5\u4ed8"),s.a.createElement("td",null,"\u4e88\u5b9a"),s.a.createElement("td",null,"\u524a\u9664"),s.a.createElement("td",null,"\u5909\u66f4"))),s.a.createElement("tbody",null,this.state.plans.map(function(t){return s.a.createElement("tr",{key:t.date},s.a.createElement("td",null,t.date),s.a.createElement("td",null,t.text),s.a.createElement("td",null,s.a.createElement("button",{className:"redbutton",onClick:function(){return e.onClickDeletePlan(t.date)}},"\u524a\u9664")),s.a.createElement("td",null,s.a.createElement("button",{className:"bluebutton"},"\u5909\u66f4")))})))))}}]),t}(n.Component)),L=function(e){var t=new Date,a=Object(n.useState)(t),l=Object(A.a)(a,2),r=l[0],i=l[1];return s.a.createElement(U.a,{dateFormat:"yyyy/MM/dd",selected:r,onChange:function(t){i(t),e.onChange(t)},customInput:s.a.createElement("button",{className:"datepicker-button"},H(r))})},H=function(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()},W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).setlist=function(e){var t=[],n=!0,s=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var o=r.value;t[o.date]={text:o.text}}}catch(c){s=!0,l=c}finally{try{n||null==i.return||i.return()}finally{if(s)throw l}}a.setState({plans:t})},a.state={receptionDate:new Date("2019/10/16"),plans:[],shifts:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/test").then(function(e){return e.json()}).then(function(e){return console.log(e)});var t=[];t[20191016]={text:"X"},t[20191022]={text:"17:00-23:00"},t[20191027]={text:"\u25b3"},t[20191030]={text:"10:00-22:00"};this.setState({shifts:t}),fetch("/testplandata").then(function(e){return e.json()}).then(function(t){e.setlist(t)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Test"),s.a.createElement("div",{id:"top"},s.a.createElement("div",{id:"testcalendar"},s.a.createElement(M,{receptionDate:this.state.receptionDate,plans:this.state.plans,shifts:this.state.shifts,onChange:function(e){return console.log(e)}}))),s.a.createElement("br",null),s.a.createElement(v.a,{locale:"ja-JP",calendarType:"US",value:this.state.receptionDate,onChange:function(e){return console.log(e)}}))}}]),t}(n.Component),B=(a(186),a(187),a(188),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onClickLogin=function(){fetch("/auth").then(function(e){return e.json()}).then(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"Shift-Resercher"),s.a.createElement("span",null,"\u30b7\u30d5\u30c8\u5e0c\u671b\u8a18\u5165\u30b5\u30a4\u30c8",s.a.createElement("br",null),"LINE\u3067\u767b\u9332\uff06\u30ed\u30b0\u30a4\u30f3",s.a.createElement("br",null),"\u2193\u3000\u2193\u3000\u2193"),s.a.createElement("form",{action:"/auth",method:"GET"},s.a.createElement("input",{type:"submit",className:"login_button",value:""})),s.a.createElement("span",{id:"developer"},"Developed by itoyu"))}}]),t}(n.Component)),q=function(){return s.a.createElement(d.a,null,s.a.createElement("div",null,s.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Norican&display=swap",rel:"stylesheet"}),s.a.createElement(h.a,{exact:!0,path:"/",component:B}),s.a.createElement(h.a,{path:"/Register",component:y}),s.a.createElement(h.a,{path:"/Home",component:x}),s.a.createElement(h.a,{path:"/Setting",component:F}),s.a.createElement(h.a,{path:"/Wishlist",component:Y}),s.a.createElement(h.a,{path:"/Information",component:_}),s.a.createElement(h.a,{path:"/Plan",component:R}),s.a.createElement(h.a,{path:"/Test",component:W})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,1,2]]]);
//# sourceMappingURL=main.514f8b66.chunk.js.map