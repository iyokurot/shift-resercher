(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},116:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),l=a.n(s),i=(a(100),a(14)),o=a(15),c=a(17),u=a(16),m=a(18),d=a(56),h=a(32),f=a(206),p=a(208),b=Object(f.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},input:{margin:e.spacing(1)}}}),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChangeusername=function(e){a.setState({username:e.target.value})},a.postdata=function(){if(""===a.state.username)alert("\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");else if(a.state.username.length>10)alert("\u30e6\u30fc\u30b6\u30fc\u540d\u306f10\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");else{var e={username:a.state.username,worktime:a.state.worktime};fetch("/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){return a.props.history.push("/Home")})}},a.state={userdata:[],username:"",worktime:"\u65e9"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/userdata").then(function(e){return e.json()}).then(function(t){null==t.regist||t.regist?e.props.history.push("/"):e.setState({userdata:t,username:t.displayName})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("div",{className:"profileholder"},r.a.createElement("div",{className:"profilesetting"},r.a.createElement("div",{className:"profilecard"},r.a.createElement("img",{alt:"profile",src:this.state.userdata.picture,id:"profileimage"}),r.a.createElement("p",{id:"linename"},this.state.userdata.displayName)),r.a.createElement("div",null,"\u30e6\u30fc\u30b6\u30fc\u540d\uff1a",r.a.createElement(p.a,{id:"username",value:this.state.username,onChange:this.onChangeusername,className:b.input,inputProps:{"aria-label":"username"},placeholder:"10\u6587\u5b57\u4ee5\u5185"}),r.a.createElement("p",{id:"namesubtitle"},"\u30b5\u30a4\u30c8\u5185\u3067\u4f7f\u7528\u3059\u308b\u540d\u524d\u3092\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044")),r.a.createElement("div",{className:"worktime"},"\u52e4\u52d9\u533a\u5206:",r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"worktime",value:"\u65e9",checked:"\u65e9"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u65e9"})}}),"\u65e9\u756a",r.a.createElement("input",{type:"radio",name:"worktime",value:"\u9045",checked:"\u9045"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u9045"})}}),"\u9045\u756a")),r.a.createElement("button",{onClick:this.postdata,className:"bluebutton",id:"registerbutton"},"\u767b\u9332"))))}}]),t}(n.Component),E=a(26),v=a.n(E),y=a(37),w=a(20),k=a.n(w),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).testrouter="",a.state={informations:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.testrouter+"/informationdatathree").then(function(e){return e.json()}).then(function(t){return e.setState({informations:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"infoFlameHolder"},r.a.createElement("div",{id:"infoFlame"},r.a.createElement("span",{id:"infoTitle"},"\u304a\u3057\u3089\u305b"),r.a.createElement("div",null,r.a.createElement("table",{id:"infotable"},r.a.createElement("tbody",null,this.state.informations.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{id:"infotabledate"},e.slashformatDate(t.date)),r.a.createElement("td",{id:"infotabletitle"},r.a.createElement("span",null,t.title)))})))),r.a.createElement("button",{className:"lightgreenbutton",onClick:this.props.push},"\u4e00\u89a7\u3078")))}},{key:"slashformatDate",value:function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}}]),t}(n.Component),S=(a(116),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setCalendar=function(e){var t=[],n=[],r=[],s=e;if(1===s.getDate()){if(0<s.getDay())for(var l=new Date(s.getFullYear(),s.getMonth(),0),i=s.getDay()-1;i>=0;i--){var o=new Date(l.getFullYear(),l.getMonth(),l.getDate()-i);t.push(o)}for(var c=1;c<16;c++){var u=new Date(s.getFullYear(),s.getMonth(),c);n.push({date:u})}if(6>=s.getDay())for(var m=1;m<7-s.getDay();m++){var d=new Date(s.getFullYear(),s.getMonth(),15+m);r.push(d)}}else{if(0<s.getDay())for(var h=s.getDay()-1;h>=0;h--){var f=new Date(s.getFullYear(),s.getMonth(),15-h);t.push(f)}for(var p=new Date(s.getFullYear(),s.getMonth()+1,0),b=16;b<p.getDate()+1;b++){var g=new Date(s.getFullYear(),s.getMonth(),b);n.push({date:g})}if(6>p.getDay())for(var E=1;E<7-p.getDay();E++){var v=new Date(p.getFullYear(),p.getMonth()+1,E);r.push(v)}}a.setState({predays:t,days:n,backdays:r})},a.onClickselectMonth=function(){a.setState({isSelectMonth:!a.state.isSelectMonth})},a.onChangeSelectYear=function(e){a.setState({selectYear:e.target.value})},a.onChangeSelectMonth=function(e){a.setState({selectMonth:e.target.value})},a.onClickDecisionMonth=function(){var e=new Date(a.state.selectYear,a.state.selectMonth-1,1);a.props.setPrintdate(e),a.setState({isSelectMonth:!1}),a.setCalendar(e)},a.serchPlans=function(e){var t=a.props.plans,n=a.getintdate(e);return t[n]&&t[n].text?t[n].text:""},a.serchShifts=function(e){var t=a.props.shifts,n=a.getintdate(e);return t[n]&&t[n].text?t[n].text:""},a.onClickPre=function(){var e=a.props.receptionDate;e=1===e.getDate()?0===e.getMonth()?new Date(e.getFullYear()-1,11,16):new Date(e.getFullYear(),e.getMonth()-1,16):new Date(e.getFullYear(),e.getMonth(),1),a.props.setPrintdate(e),a.setCalendar(e)},a.onClickBack=function(){var e=a.props.receptionDate;e=1===e.getDate()?new Date(e.getFullYear(),e.getMonth(),16):11===e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1),a.props.setPrintdate(e),a.setCalendar(e)},a.daycssReturn=function(e){switch(e){case 0:return"datepanel-sun";case 6:return"datepanel-sat";default:return"datepanel-def"}},a.isSelect=function(e){return a.state.selectDay===e},a.shiftstyle=function(e){return"x"===e||"\u25b3"===e?"shiftstyle-big":"shiftstyle-default"},a.selectDay=function(e){a.setState({selectDay:e}),a.props.onChange(e)},a.state={weeks:["\u6708","\u706b","\u6c34","\u6728","\u91d1"],months:[1,2,3,4,5,6,7,8,9,10,11,12],years:[2018,2019,2020],selectMonth:"",selectYear:"",predays:[],days:[],backdays:[],printdays:a.props.receptionDate,selectDay:a.props.receptionDate,shifts:[],isSelectMonth:!1,plans:a.props.plans},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setCalendar(this.props.receptionDate),this.setState({shifts:this.props.shifts,selectYear:this.props.receptionDate.getFullYear(),selectMonth:this.props.receptionDate.getMonth()+1})}},{key:"getintdate",value:function(e){return e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"calendar-header"},r.a.createElement("button",{onClick:this.onClickPre,className:"calendar-monthButton"},"\uff1c"),r.a.createElement("button",{id:"calendar-printmonth",onClick:this.onClickselectMonth},this.props.receptionDate.getFullYear()," /"," ",this.props.receptionDate.getMonth()+1),r.a.createElement("button",{onClick:this.onClickBack,className:"calendar-monthButton"},"\uff1e")),this.state.isSelectMonth?r.a.createElement("div",null,r.a.createElement("p",{className:"select-explain-text"},"\u5e74\u3092\u9078\u629e"),r.a.createElement("span",{className:"year-select"},r.a.createElement("select",{value:this.state.selectYear,onChange:function(t){return e.onChangeSelectYear(t)}},this.state.years.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("p",{className:"select-explain-text"},"\u6708\u3092\u9078\u629e"),r.a.createElement("span",{className:"year-select"},r.a.createElement("select",{value:this.state.selectMonth,onChange:function(t){return e.onChangeSelectMonth(t)}},this.state.months.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("br",null),r.a.createElement("button",{id:"select-printmonth-button",onClick:this.onClickDecisionMonth},"\u8868\u793a")):r.a.createElement("span",null,r.a.createElement("div",{className:"calendar-weeks"},r.a.createElement("div",{className:"calendar-week",id:"datepanel-sun"},"\u65e5"),this.state.weeks.map(function(e){return r.a.createElement("div",{className:"calendar-week",key:e},e)}),r.a.createElement("div",{className:"calendar-week",id:"datepanel-sat"},"\u571f")),r.a.createElement("div",{className:"calendar-days"},this.state.predays.map(function(t){return r.a.createElement(C,{date:t.getDate(),plan:e.serchPlans(t),shift:e.serchShifts(t),color:"datepanel-unactive",shiftstyle:e.shiftstyle(e.serchShifts(t)),onClick:function(){return e.selectDay(t)},select:e.isSelect(t),key:t.getDate()})}),this.state.days.map(function(t){return r.a.createElement(C,{date:t.date.getDate(),plan:e.serchPlans(t.date),shift:e.serchShifts(t.date),color:e.daycssReturn(t.date.getDay()),onClick:function(){return e.selectDay(t.date)},select:e.isSelect(t.date),shiftstyle:e.shiftstyle(e.serchShifts(t.date)),key:t.date.getDate()})}),this.state.backdays.map(function(t){return r.a.createElement(C,{date:t.getDate(),plan:e.serchPlans(t),shift:e.serchShifts(t),color:"datepanel-unactive",shiftstyle:e.shiftstyle(e.serchShifts(t)),onClick:function(){return e.selectDay(t)},select:e.isSelect(t),key:t.getDate()})}))))}}]),t}(n.Component)),C=function(e){return r.a.createElement("div",{className:"DatePanel",onClick:e.onClick,id:e.select?"datepanel-select":"DatePanel"},r.a.createElement("span",{id:e.select?"":e.color},e.date),r.a.createElement("div",{className:"datepanel-planarea"},e.plan),r.a.createElement("div",{className:"datepanel-shiftarea",id:e.shiftstyle},e.shift))},j=S,O=a(5),D=a(7),x=a(209);function M(e){return e.substr(4,2)+"/"+e.substr(6,2)}function T(e,t,a){return e+("0"+(t+1)).slice(-2)+("0"+a).slice(-2)}function I(e){return"".concat(e.getFullYear()).concat(("0"+(e.getMonth()+1)).slice(-2)).concat(("0"+e.getDate()).slice(-2))}var P=Object(D.a)({root:{"& label.Mui-focused":{color:"#5f28c4"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#5f28c4"}}}})(x.a),F=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),s=a[0],l=a[1],i=Object(n.useState)(""),o=Object(O.a)(i,2),c=o[0],u=o[1],m=Object(n.useState)([]),d=Object(O.a)(m,2),h=d[0],f=d[1],p=Object(n.useState)([]),b=Object(O.a)(p,2),g=b[0],E=b[1],w=Object(n.useState)(""),k=Object(O.a)(w,2),N=k[0],S=k[1],C=Object(n.useState)(""),j=Object(O.a)(C,2),D=j[0],x=j[1];Object(n.useEffect)(function(){fetch("/getcommentdata").then(function(e){return e.json()}).then(function(e){return M(e)})},[]);var M=function(t){var a=[];if(""!==t){var n=!0,r=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,m=new Date(c.date);a[m.getFullYear()+("0"+(m.getMonth()+1)).slice(-2)+("0"+m.getDate()).slice(-2)]={comment:c.text,wishday:c.wishday}}}catch(g){r=!0,s=g}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}var d=e.receptionDate,h=d.getFullYear()+("0"+(d.getMonth()+1)).slice(-2)+("0"+d.getDate()).slice(-2),p="",b="";null!=a[h]&&(p=a[h].comment,b=a[h].wishday),f(a.slice()),E(a),u(p),l(b),S(h),I(d)},I=function(e){var t=e.getMonth()+1,a=e.getDate(),n="";1===a?n=t+"/1\uff5e"+t+"/15":16===a&&(n=t+"/16\uff5e"+t+"/"+new Date(e.getFullYear(),t,0).getDate()),x(n)},F=function(e){var t=g;t[N]={comment:c,wishday:s},E(t);var a=N,n=(a.substr(0,4)+"/"+a.substr(4,2)+"/"+a.substr(6,2)).split("/"),r=new Date(n[0],n[1]-1,n[2]),i=r.getFullYear(),o=r.getMonth(),m=r.getDate();if("pre"===e?16===m?m=1:0===o?(i--,o=11,m=16):(o--,m=16):"back"===e&&(1===m?m=16:11===o?(i++,o=0,m=1):(o++,m=1)),null==g[T(i,o,m)]){var d=g;d[T(i,o,m)]={comment:"",wishday:""},E(d)}I(new Date(i,o,m)),u(g[T(i,o,m)].comment),l(g[T(i,o,m)].wishday),S(T(i,o,m))},Y=function(){var t=Object(y.a)(v.a.mark(function t(){var a,n,r,l,i,o;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(l in(a=[]).push(e.addbutton()),(n=g)[N]={comment:c,wishday:s},r=[],n)null==h[l]&&r.push({date:l,comment:n[l].comment,wishday:n[l].wishday});for(o in i=[],h)n[o].comment===h[o].comment&&n[o].wishday===h[o].wishday||i.push({date:o,comment:n[o].comment,wishday:n[o].wishday});return i.length>0&&a.push(fetch("/updatecommentdata",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()})),r.length>0&&a.push(fetch("/addcommentdata",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()})),t.next=12,Promise.all(a);case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"flameholder"},r.a.createElement("div",{className:"flame"},"\u88dc\u8db3\u5e0c\u671b:",D,r.a.createElement("span",{id:"termbuttons"},r.a.createElement("button",{onClick:function(){F("pre")},className:"bluebutton"},"\u25c1"),r.a.createElement("button",{onClick:function(){F("back")},className:"bluebutton"},"\u25b7")),r.a.createElement("br",null),r.a.createElement("div",{id:"wishday"},"\u5e0c\u671b\u51fa\u52e4\u65e5\u6570\uff1a",r.a.createElement("select",{onChange:function(e){return l(e.target.value)},value:s},["",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(function(e){return r.a.createElement("option",{key:e},e)})),"\u65e5"),r.a.createElement("div",null,r.a.createElement(P,{id:"outlined-name",label:"\u8ffd\u8a18",value:c,onChange:function(e){return u(e.target.value)},margin:"normal",variant:"outlined",placeholder:"\u5e0c\u671b\u3092\u8a18\u5165"}))),r.a.createElement("button",{id:"submit_shiftdata",onClick:Y},"\u767b\u9332"))},Y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},formcontrol:{fontSize:"10px"}};k.a.setAppElement("#root");var L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).deadlineEarly=10,a.deadlineLate=25,a.testrouter="",a.loadShiftAndComment=function(){fetch(a.testrouter+"/shiftdata").then(function(e){return e.json()}).then(function(e){return a.setdefaultshifts(e)})},a.setdefaultshifts=function(e){var t=[],n=!0,r=!1,s=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var o=l.value;t[o.date]={text:o.detail}}}catch(c){r=!0,s=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}a.setState({default_month_days:t,month_days:t.slice(),isNowLoading:!1})},a.setPlans=function(e){var t=[],n=!0,r=!1,s=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var o=l.value;t[o.date]={text:o.text}}}catch(c){r=!0,s=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}a.setState({plans:t})},a.getDateReception=function(){var e=a.state.date.getFullYear(),t=a.state.date.getMonth()+1,n=a.state.date.getDate(),r="",s="",l="";if(n<=a.deadlineEarly)s=t+"/10\u307e\u3067("+(r=t+"/16\uff5e"+t+"/"+new Date(e,t,0).getDate())+")",l=e+"/"+t+"/16";else if(n>a.deadlineLate){12===t&&(e++,t=0),s=t+1+"/10\u307e\u3067("+(r=t+1+"/16\uff5e"+(t+1)+"/"+new Date(e,t+1,0).getDate())+")",l=e+"/"+(t+1)+"/16"}else 12===t&&(e++,t=0),r=t+1+"/1\uff5e"+(t+1)+"/15",s=0===t?"12/24\u307e\u3067("+r+")":t+"/24\u307e\u3067("+r+")",l=e+"/"+(t+1)+"/1";a.setState({complementdaysText:r,deadline:s,receptionDate:new Date(l),nowprintday:new Date(l)})},a.onClickstamp=function(e){a.setState({stamp:e})},a.dayClick=function(e){if(a.state.receptionDate<=e){var t=a.state.month_days,n=I(e);a.setState({clickdate:n}),null==t[n]||""===t[n].text?"time"===a.state.stamp?a.openModal():(t[n]={text:a.state.stamp},a.setState({month_days:t})):a.state.stamp===t[n].text?(t[n]={text:""},a.setState({month_days:t})):a.state.stamp!==t[n].text&&("time"===a.state.stamp?t[n]={text:""}:(t[n]={text:a.state.stamp},a.setState({month_days:t})))}a.state.isNotSaveShift||a.setState({isNotSaveShift:!0})},a.setPrindDay=function(e){a.setState({nowprintday:e})},a.wishdayOnchange=function(e){a.setState({wishday:e.target.value})},a.openModal=function(){a.setState({modalIsOpen:!0})},a.closeModal=function(){a.setState({modalIsOpen:!1})},a.setShiftTime=function(){if(a.state.startTime>=a.state.endTime)alert("\u4e0d\u53ef\u80fd\u306a\u6642\u9593\u3067\u3059");else{a.closeModal();var e=a.state.month_days;e[a.state.clickdate]={text:a.state.startTime+"-"+a.state.endTime},a.setState({month_days:e})}},a.startTimeChange=function(e){a.setState({startTime:e.target.value})},a.endTimeChange=function(e){a.setState({endTime:e.target.value})},a.addDataOnClick=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isNowLoading:!0,isNotSaveShift:!1}),e.next=3,new Promise(function(e){return setTimeout(e,0)});case 3:a.registMethod();case 4:case"end":return e.stop()}},e)})),a.registMethod=Object(y.a)(v.a.mark(function e(){var t,n,r,s,l,i,o,c,u;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(l in t=[],n=a.state.default_month_days.slice(),r=a.state.month_days.slice(),s=[],r)null==n[l]&&""!==r[l].text&&s.push({date:l,text:r[l].text});for(o in a.setState({newregistshift:s}),i=[],n)""===r[o].text&&(i.push({date:o,text:n[o].text}),delete r[o]);for(u in a.setState({deleteregistshift:i,default_month_days:r}),c=[],r)null!=n[u]&&""!==r[u].text&&n[u].text!==r[u].text&&c.push({date:u,text:r[u].text});return a.setState({updateregistshift:c}),c.length>0&&t.push(a.dbUpdater(a.testrouter+"/updateshiftdata",c)),s.length>0&&t.push(a.dbUpdater(a.testrouter+"/addshiftdata",s)),i.length>0&&t.push(a.dbUpdater(a.testrouter+"/deleteshiftdata",i)),e.next=17,Promise.all(t);case 17:return a.setState({registModal:!0}),e.next=20,new Promise(function(e){return setTimeout(e,500)});case 20:a.loadShiftAndComment();case 21:case"end":return e.stop()}},e)})),a.closeRegistModal=function(){a.setState({registModal:!1,newregistshift:[],updateregistshift:[],deleteregistshift:[]})},a.dbUpdater=function(e,t){fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()})},a.pushtoInfomation=function(){a.state.isNotSaveShift?window.confirm("\u672a\u4fdd\u5b58\u306e\u30b7\u30d5\u30c8\u304c\u3042\u308a\u307e\u3059\u304c\u79fb\u52d5\u3057\u307e\u3059\u304b\uff1f")&&a.props.history.push("/Information"):a.props.history.push("/Information")},a.pushtoSetting=function(){a.state.isNotSaveShift?window.confirm("\u672a\u4fdd\u5b58\u306e\u30b7\u30d5\u30c8\u304c\u3042\u308a\u307e\u3059\u304c\u79fb\u52d5\u3057\u307e\u3059\u304b\uff1f")&&a.props.history.push("/Setting"):a.props.history.push("/Setting")},a.beforeUnload=function(e){var t="";return a.state.isNotSaveShift&&(e.preventDefault(),t="\u672a\u4fdd\u5b58\u306e\u30b7\u30d5\u30c8\u304c\u3042\u308a\u307e\u3059\u304c\u79fb\u52d5\u3057\u307e\u3059\u304b\uff1f",e.returnValue=t),t},a.state={userdata:[],date:new Date,receptionDate:new Date,stamp:"x",stamptime:"",deadline:"",default_month_days:[],month_days:[],shifttimes:["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30","23:45"],startTime:"09:00",endTime:"09:00",nowprintday:new Date,modalIsOpen:!1,isUpdateshift:[],isNowLoading:!0,plans:[],registModal:!1,newregistshift:[],updateregistshift:[],deleteregistshift:[],isNotSaveShift:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getDateReception(),fetch(this.testrouter+"/userdata").then(function(e){return e.json()}).then(function(t){return e.setState({userdata:t})}),this.loadShiftAndComment(),fetch(this.testrouter+"/plandata").then(function(e){return e.json()}).then(function(t){return e.setPlans(t)}),window.addEventListener("beforeunload",this.beforeUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeUnload)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"personalheader"},r.a.createElement("span",{id:"setting",onClick:function(t){return e.pushtoSetting()}},r.a.createElement("div",{id:"settingimg"})),r.a.createElement("a",{href:"/logout"},r.a.createElement("span",{className:"redbutton"},"\u30ed\u30b0\u30a2\u30a6\u30c8"))),r.a.createElement("h1",{id:"HomeTitle"},"Home"),"\u3088\u3046\u3053\u305d\uff01",this.state.userdata.username,"\u3055\u3093",r.a.createElement("h2",{className:"reception"},this.state.receptionDate.getFullYear()," ",this.state.receptionDate.getMonth()+1,"\u6708",this.state.receptionDate.getDate(),"\u65e5\uff5e\u53d7\u4ed8\u4e2d"),r.a.createElement("div",{id:"dateText"},this.state.deadline),r.a.createElement(N,{push:this.pushtoInfomation}),r.a.createElement("div",{className:"itemholder"},r.a.createElement("button",{className:"redbutton",onClick:this.onClickstamp.bind(this,"x")},"\u2715"),r.a.createElement("button",{className:"greenbutton",onClick:this.onClickstamp.bind(this,"\u25b3")},"\u25b3"),r.a.createElement("button",{className:"bluebutton",onClick:this.onClickstamp.bind(this,"time")},"\u6642\u9593\u6307\u5b9a")),this.state.isNowLoading?r.a.createElement("div",{className:"loading"},r.a.createElement("span",{className:"loadingtext"},"Loading..."),r.a.createElement("div",{className:"orbit-spinner"},r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}))):r.a.createElement("div",{id:"shift-holder"},r.a.createElement("div",{id:"newcalendar"},r.a.createElement(j,{receptionDate:this.state.nowprintday,plans:this.state.plans,shifts:this.state.month_days,onChange:function(t){return e.dayClick(t)},setPrintdate:function(t){return e.setPrindDay(t)}})),r.a.createElement(F,{receptionDate:this.state.receptionDate,addbutton:this.addDataOnClick})),r.a.createElement(k.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:Y,contentLabel:"worktime Modal"},r.a.createElement("h2",{className:"modaltitle"},"\u51fa\u52e4\u53ef\u80fd\u6642\u9593\u3092\u9078\u629e"),r.a.createElement("div",null,r.a.createElement("select",{className:"timeselect",onChange:this.startTimeChange,value:this.state.startTime},this.state.shifttimes.map(function(e){return r.a.createElement("option",{key:e},e)})),"\uff5e",r.a.createElement("select",{className:"timeselect",onChange:this.endTimeChange,value:this.state.endTime},this.state.shifttimes.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("button",{className:"redbutton",onClick:this.closeModal},"\u9589\u3058\u308b"),r.a.createElement("button",{className:"bluebutton",onClick:this.setShiftTime},"\u6c7a\u5b9a")),r.a.createElement(k.a,{isOpen:this.state.registModal,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeRegistModal,style:Y,contentLabel:"worktime Modal"},r.a.createElement("h2",{className:"modaltitle"},"\u767b\u9332\u3057\u307e\u3057\u305f"),r.a.createElement("div",{className:"modalheight"},this.state.newregistshift.map(function(e){return r.a.createElement("div",{key:e.date,id:"newshiftregist"},M(e.date)+" "," ",e.text+" ","\u767b\u9332")}),this.state.updateregistshift.map(function(e){return r.a.createElement("div",{key:e.date,id:"updateshiftregist"},M(e.date)+" "," ",e.text+" ","\u66f4\u65b0")}),this.state.deleteregistshift.map(function(e){return r.a.createElement("div",{key:e.date,id:"deleteshiftregist"},M(e.date)+" ","\u524a\u9664")})),r.a.createElement("button",{className:"redbutton",onClick:this.closeRegistModal},"\u9589\u3058\u308b")))}},{key:"afterOpenModal",value:function(){}}]),t}(n.Component),R=a(86),_=a.n(R),A=Object(f.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},input:{margin:e.spacing(1)}}}),J={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};k.a.setAppElement("#root");var H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).testroute="",a.loadmemberlist=function(){fetch(a.testroute+"/memberlist").then(function(e){return e.json()}).then(function(e){a.setState({memberlist:e});var t=[],n=[],r=!0,s=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var c=i.value;c.administer?t.push(c):n.push(c)}}catch(u){s=!0,l=u}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}a.setState({administerlist:t,nonadministerlist:n,addministeroption:n[0]})})},a.isNowloading=function(e){""===e||""===e.username?(alert("\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"),a.props.history.push("/")):a.setState({isNowloading:!1})},a.onChangeusername=function(e){a.setState({username:e.target.value})},a.updateUsername=function(){a.state.username!==a.state.userdata.username&&(""===a.state.username?alert("\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"):a.state.username.length>10?alert("\u30e6\u30fc\u30b6\u30fc\u540d\u306f10\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"):fetch(a.testroute+"/updateusername",{method:"POST",body:JSON.stringify([a.state.username]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u767b\u9332\u3057\u307e\u3057\u305f");var t=a.state.userdata;t.username=a.state.username,a.setState({userdata:t})}))},a.onChangeworktime=function(){a.setState({ischangeworktime:!0})},a.setworktime=function(){if(a.state.userdata.worktime!==a.state.worktime){fetch(a.testroute+"/updateworktime",{method:"POST",body:JSON.stringify([a.state.worktime]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()});var e=a.state.userdata;e.worktime=a.state.worktime,a.setState({userdata:e})}a.setState({ischangeworktime:!1})},a.onClickunsubsribe=function(){window.confirm("\u9000\u4f1a\u3057\u307e\u3059\u304b\uff1f\n\u5168\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u304c\u524a\u9664\u3055\u308c\u307e\u3059")&&(fetch(a.testroute+"/deleteuser",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}),fetch("/logout").then(function(e){return e.json()}),a.pushtoHome())},a.pushtoHome=function(){a.props.history.push("/")},a.pushtoInformation=function(){a.props.history.push("/Information")},a.pushtoPlan=function(){a.props.history.push("/Plans")},a.pushtoLogs=function(){a.props.history.push("/Log")},a.openmemberModal=function(){a.setState({memberModalopen:!0})},a.closememberModal=function(){a.setState({memberModalopen:!1})},a.onClickdeletemember=function(e){window.confirm(e.name+"\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f\n\u8a72\u5f53\u30e6\u30fc\u30b6\u30fc\u306e\u30b7\u30d5\u30c8\u60c5\u5831\u3082\u524a\u9664\u3055\u308c\u307e\u3059")&&fetch(a.testroute+"/deletemember",{method:"POST",body:JSON.stringify([e.userid]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.closememberModal(),a.loadmemberlist()})},a.onClickdeleteadminister=function(e){window.confirm(e.name+"\u306e\u7ba1\u7406\u8005\u6a29\u9650\u3092\u5265\u596a\u3057\u307e\u3059\u304b\uff1f")&&fetch(a.testroute+"/deleteadminister",{method:"POST",body:JSON.stringify([e.userid]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.closeadministerModal(),a.loadmemberlist()})},a.onChangeaddministeroption=function(e){var t=!0,n=!1,r=void 0;try{for(var s,l=a.state.nonadministerlist[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var i=s.value;if(i.name===e.target.value){a.setState({addministeroption:i});break}}}catch(o){n=!0,r=o}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}},a.onClickadminister=function(){a.setState({isAddadminister:!0})},a.onClickaddAdminister=function(){var e=a.state.addministeroption;window.confirm(e.name+"\u306b\u7ba1\u7406\u8005\u6a29\u9650\u3092\u6388\u4e0e\u3057\u307e\u3059\u304b\uff1f")&&fetch(a.testroute+"/addadminister",{method:"POST",body:JSON.stringify([e.userid]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.closeadministerModal(),a.loadmemberlist()})},a.closeadministerModal=function(){a.setState({administerModalopen:!1,isAddadminister:!1})},a.state={userdata:[],username:"",worktime:"",memberlist:[],administerlist:[],nonadministerlist:[],addministeroption:[],ischangeworktime:!1,test:"",memberModalopen:!1,administerModalopen:!1,isAddadminister:!1,isNowloading:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.testroute+"/userdata").then(function(e){return e.json()}).then(function(t){e.isNowloading(t),e.setState({userdata:t,username:t.username,worktime:t.worktime}),t.administer&&e.loadmemberlist()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Settings"),this.state.isNowloading?r.a.createElement("div",{className:"loading"},r.a.createElement("span",{className:"loadingtext"},"Loading..."),r.a.createElement("div",{className:"orbit-spinner"},r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}))):r.a.createElement("div",null,r.a.createElement("div",{className:"profileholder"},r.a.createElement("div",{className:"profilesetting"},r.a.createElement("div",{className:"profilecard"},r.a.createElement("img",{src:this.state.userdata.picture,id:"profileimage",alt:"profile"}),r.a.createElement("p",{id:"linename"},this.state.userdata.displayName)),r.a.createElement("div",null,"\u30e6\u30fc\u30b6\u30fc\u540d",r.a.createElement(p.a,{id:"username",value:this.state.username,onChange:this.onChangeusername,className:A.input,inputProps:{"aria-label":"username"},placeholder:"10\u6587\u5b57\u4ee5\u5185"}),r.a.createElement("button",{onClick:this.updateUsername,className:"bluebutton",id:"updatebutton"},"\u66f4\u65b0")),r.a.createElement("div",{className:"worktime"},"\u52e4\u52d9\u533a\u5206:",this.state.ischangeworktime?r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"worktime",value:"\u65e9",checked:"\u65e9"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u65e9"})}}),"\u65e9\u756a",r.a.createElement("input",{type:"radio",name:"worktime",value:"\u9045",checked:"\u9045"===this.state.worktime,onChange:function(){return e.setState({worktime:"\u9045"})}}),"\u9045\u756a",r.a.createElement("button",{onClick:this.setworktime,className:"bluebutton"},"\u66f4\u65b0")):r.a.createElement("span",null,this.state.userdata.worktime,"\u756a",r.a.createElement("button",{onClick:this.onChangeworktime,className:"bluebutton"},"\u5909\u66f4"))),r.a.createElement("button",{onClick:this.onClickunsubsribe,className:"redbutton",id:"disbutton"},"\u9000\u4f1a"))),r.a.createElement("div",{className:"manualdiv"},r.a.createElement("a",{href:"https://docs.google.com/presentation/d/1d4WBzpo-So3vK8kw5eVjB_fQ_LBcnjHPEuaHL-7Q_1g/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"outlinkButton"},"\u4f7f\u3044\u65b9",r.a.createElement("img",{src:_.a,id:"shareIcon",alt:"\u4f7f\u3044\u65b9\u30a2\u30a4\u30b3\u30f3"})),r.a.createElement("p",{id:"sharesubtitle"},"\uff0a\u5916\u90e8\u30da\u30fc\u30b8\u304c\u958b\u304d\u307e\u3059"))),r.a.createElement("div",{style:{display:this.state.userdata.administer?"":"none"},className:"administerview"},r.a.createElement("h2",{className:"administerheader"},"\u7ba1\u7406\u8005\u6a29\u9650"),r.a.createElement(d.b,{to:"/Wishlist"},r.a.createElement("span",{className:"administerbutton",id:"wishlistbutton"},"\u5e0c\u671b\u4e00\u89a7")),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.props.history.push("/ShiftAdministar")},className:"administerbutton",style:{width:"250px"}},"\u30b7\u30d5\u30c8\u5909\u66f4\u767b\u9332"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.pushtoInformation,className:"administerbutton",style:{width:"250px"}},"\u304a\u77e5\u3089\u305b\u914d\u4fe1"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.pushtoPlan,className:"administerbutton",style:{width:"250px"}},"\u4e88\u5b9a\u767b\u9332"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.pushtoLogs,className:"administerbutton",style:{width:"250px"}},"\u30e6\u30fc\u30b6\u30fc\u30ed\u30b0"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.openmemberModal,className:"administerbutton"},"\u767b\u9332\u8005\u4e00\u89a7"),r.a.createElement("button",{onClick:function(t){return e.setState({administerModalopen:!0})},className:"administerbutton"},"\u7ba1\u7406\u8005\u4e00\u89a7")),r.a.createElement(k.a,{isOpen:this.state.memberModalopen,onRequestClose:this.closememberModal,style:J,contentLabel:"Register Modal"},r.a.createElement("h2",{className:"modaltitle"},"\u767b\u9332\u8005\u4e00\u89a7"),r.a.createElement("div",{className:"modalheight"},this.state.memberlist.map(function(t){return r.a.createElement("div",{key:t.userid},t.name,r.a.createElement("span",{style:{display:t.userid!==e.state.userdata.userId?"":"none"}},r.a.createElement("button",{className:"redbutton",value:t.userid,onClick:function(a){return e.onClickdeletemember(t)}},"\u767b\u9332\u524a\u9664")))})),r.a.createElement("button",{className:"redbutton",onClick:this.closememberModal},"\u9589\u3058\u308b")),r.a.createElement(k.a,{isOpen:this.state.administerModalopen,onRequestClose:this.closeadministerModal,style:J,contentLabel:"Administer Modal"},r.a.createElement("h2",{className:"modaltitle"},"\u7ba1\u7406\u8005\u4e00\u89a7"),r.a.createElement("div",{className:"modalheight"},this.state.administerlist.map(function(t){return r.a.createElement("div",{key:t.userid},t.name,r.a.createElement("span",{style:{display:t.userid!==e.state.userdata.userId?"":"none"}},r.a.createElement("button",{className:"redbutton",onClick:function(a){return e.onClickdeleteadminister(t)}},"\u89e3\u9664")))})),this.state.isAddadminister&&this.state.nonadministerlist.length>0?r.a.createElement("span",null,r.a.createElement("select",{className:"timeselect",onChange:this.onChangeaddministeroption,value:this.state.addministeroption.name},this.state.nonadministerlist.map(function(e){return r.a.createElement("option",null,e.name)})),r.a.createElement("button",{className:"bluebutton",onClick:function(t){return e.onClickaddAdminister()}},"\u8ffd\u52a0")):r.a.createElement("button",{className:"bluebutton",onClick:function(t){return e.onClickadminister()}},"\u8ffd\u52a0"),r.a.createElement("button",{className:"redbutton",onClick:this.closeadministerModal},"\u9589\u3058\u308b"))))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).testroute="",a.setdefaultDays=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),s="";r<a.state.deadlineearly?s=new Date(t,n,1):r<a.state.deallinelate?s=new Date(t,n,16):r>=a.state.deallinelate&&(s=new Date(t,n+1,1)),a.setprintDays(s)},a.onClickchangeterm=function(e){var t=a.state.startdate,n=t.getFullYear(),r=t.getMonth(),s=t.getDate(),l=e.target.value;"pre"===l?16===s?s=1:1===s&&(0===r?(n--,r=11,s=16):(r--,s=16)):"back"===l&&(1===s?s=16:16===s&&(11===r?(n++,r=0,s=1):(r++,s=1)));var i=new Date(n,r,s);a.setState({startdate:i}),a.setprintDays(i),a.sortmembershift(a.state.memberlist,a.state.allshiftdata,i),a.sortmembercomment(a.state.memberlist,a.state.allcommentdata,i)},a.setprintDays=function(e){var t=[];if(1===e.getDate())for(var n=0;n<15;n++)t.push(e.getMonth()+1+"/"+(e.getDate()+n));else if(16===e.getDate())for(var r=new Date(e.getFullYear(),e.getMonth()+1,0),s=0;s<r.getDate()-e.getDate()+1;s++)t.push(e.getMonth()+1+"/"+(e.getDate()+s));a.setState({startdate:e,printdays:t})},a.sortmembershift=function(e,t,n){var r=n,s="",l=[];1===r.getDate()?(s=new Date(r.getFullYear(),r.getMonth(),15),l=Array(15)):16===r.getDate()&&(s=new Date(r.getFullYear(),r.getMonth()+1,0),l=Array(s.getDate()-15));var i=[],o=!0,c=!1,u=void 0;try{for(var m,d=e[Symbol.iterator]();!(o=(m=d.next()).done);o=!0){var h=m.value,f=l.slice();f.fill("/");var p=!0,b=!1,g=void 0;try{for(var E,v=t[Symbol.iterator]();!(p=(E=v.next()).done);p=!0){var y=E.value;if(y.userid===h.userid){var w=String(y.date),k=parseInt(w.slice(0,4)),N=parseInt(w.slice(4,6)),S=parseInt(w.slice(6));k===r.getFullYear()&&N===r.getMonth()+1&&S>=r.getDate()&&S<=s.getDate()&&""!==y.detail&&(f[S-r.getDate()]=y.detail)}}}catch(C){b=!0,g=C}finally{try{p||null==v.return||v.return()}finally{if(b)throw g}}i.push({name:h.name,shift:f})}}catch(C){c=!0,u=C}finally{try{o||null==d.return||d.return()}finally{if(c)throw u}}a.setState({printlist:i})},a.sortmembercomment=function(e,t,n){var r=n,s=[],l=!0,i=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var m=c.value,d=!1,h=!0,f=!1,p=void 0;try{for(var b,g=t[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){var E=b.value;if(m.userid===E.userid){var v=new Date(E.date);if(r.getFullYear()+"/"+r.getMonth()+"/"+r.getDate()===v.getFullYear()+"/"+v.getMonth()+"/"+v.getDate()){s.push({name:m.name,wishday:E.wishday,comment:E.text}),d=!0;break}}}}catch(y){f=!0,p=y}finally{try{h||null==g.return||g.return()}finally{if(f)throw p}}d||(s.push({name:m.name,wishday:"",comment:""}),d=!1)}}catch(y){i=!0,o=y}finally{try{l||null==u.return||u.return()}finally{if(i)throw o}}a.setState({printcommentlist:s})},a.state={nowloading:!0,accessable:!1,memberlist:[],allshiftdata:[],allcommentdata:[],printlist:[],printcommentlist:[],deadlineearly:10,deallinelate:24,startdate:"",printdays:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.testroute+"/userdata").then(function(e){return e.json()}).then(function(t){t.administer?(e.setState({accessable:!0}),e.setdefaultDays(),fetch(e.testroute+"/memberlist").then(function(e){return e.json()}).then(function(t){e.setState({memberlist:t}),fetch(e.testroute+"/allshiftdata").then(function(e){return e.json()}).then(function(a){e.setState({allshiftdata:a}),e.sortmembershift(t,a,e.state.startdate)}),fetch(e.testroute+"/allcommentdata").then(function(e){return e.json()}).then(function(a){e.setState({allcommentdata:a,nowloading:!1}),e.sortmembercomment(t,a,e.state.startdate)})})):e.setState({nowloading:!1})})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.nowloading?r.a.createElement("div",{className:"loading"},r.a.createElement("span",{className:"loadingtext"},"Loading..."),r.a.createElement("div",{className:"orbit-spinner"},r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}))):r.a.createElement("div",null,this.state.accessable?r.a.createElement("div",null,r.a.createElement("h1",null,"Wishlist"),"\u30b7\u30d5\u30c8\u5e0c\u671b\u4e00\u89a7",r.a.createElement("button",{className:"bluebutton",value:"pre",onClick:this.onClickchangeterm},"\u25c1"),r.a.createElement("button",{className:"bluebutton",value:"back",onClick:this.onClickchangeterm},"\u25b7"),r.a.createElement("div",{className:"shittablediv"},r.a.createElement("table",{className:"shifttable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"blank"},"\u540d\u524d"),this.state.printdays.map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,this.state.printlist.map(function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("th",{key:e.name},e.name),e.shift.map(function(e){return r.a.createElement("td",null,e)}))})))),r.a.createElement("div",{className:"wishtablediv"},r.a.createElement("h2",null,"\u88dc\u8db3\u5e0c\u671b"),r.a.createElement("table",{className:"wishtable"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"tableheader"},r.a.createElement("th",{className:"tablename"},"\u540d\u524d"),r.a.createElement("th",{className:"tableday"},"\u65e5\u6570"),r.a.createElement("th",{className:"tablecomment"},"\u8ffd\u8a18"))),r.a.createElement("tbody",null,this.state.printcommentlist.map(function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{className:"tablename"},e.name),r.a.createElement("td",{className:"tableday"},e.wishday),r.a.createElement("td",{className:"tablecommenttd"},e.comment))}))))):r.a.createElement("div",null,"\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093")))}}]),t}(n.Component),B={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};k.a.setAppElement("#root");var W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).testroute="",a.fetchInfodata=function(){fetch(a.testroute+"/informationdata").then(function(e){return e.json()}).then(function(e){return a.setState({informations:e})})},a.changeNewpost=function(){a.state.newpost?a.setState({newpost:!1}):a.setState({newpost:!0})},a.onChangeTitle=function(e){a.setState({title:e.target.value})},a.onChangeMessage=function(e){a.setState({message:e.target.value})},a.addInformation=function(){if(""===a.state.title)alert("\u30bf\u30a4\u30c8\u30eb\u3092\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044");else{var e={title:a.state.title,message:a.state.message};console.log(e),fetch(a.testroute+"/addinformationdata",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u6295\u7a3f\u3057\u307e\u3057\u305f"),a.fetchInfodata()})}},a.dateformater=function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},a.openModal=function(e){a.setState({modal:!0,selectinfo:a.serchInfobyId(e.target.value)})},a.closeModal=function(){a.setState({modal:!1})},a.openChangeableModal=function(e){a.setState({changeablemodal:!0,selectinfo:a.serchInfobyId(e.target.value)})},a.closeChangeableModal=function(){a.setState({changeablemodal:!1})},a.serchInfobyId=function(e){var t=!0,n=!1,r=void 0;try{for(var s,l=a.state.informations[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var i=s.value;if(parseInt(e)===i.id)return Object.assign({},i)}}catch(o){n=!0,r=o}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}},a.updateTitle=function(e){var t=a.state.selectinfo;t.title=e.target.value,a.setState({selectinfo:t})},a.updateMessage=function(e){var t=a.state.selectinfo;t.message=e.target.value,a.setState({selectinfo:t})},a.updateInfo=function(){var e=a.state.selectinfo,t=a.serchInfobyId(e.id);t.title===e.title&&t.message===e.message||fetch(a.testroute+"/updateinformationdata",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u66f4\u65b0\u3057\u307e\u3057\u305f"),a.closeChangeableModal(),a.fetchInfodata()})},a.deleteInfo=function(e){window.confirm("\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")&&fetch(a.testroute+"/deleteinformationdata",{method:"POST",body:JSON.stringify([e.target.value]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u524a\u9664\u3057\u307e\u3057\u305f"),a.fetchInfodata()})},a.state={newpost:!1,userdata:[],informations:[],title:"",message:"",changeablemodal:!1,modal:!1,selectinfo:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.testroute+"/userdata").then(function(e){return e.json()}).then(function(t){return e.setState({userdata:t})}),this.fetchInfodata()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Information"),this.state.userdata.administer?r.a.createElement("button",{onClick:this.changeNewpost,className:"administerbuttonreverse",style:{width:"200px"}},this.state.newpost?"\u3068\u3058\u308b \u25b3":"\u65b0\u898f\u6295\u7a3f \u25bd"):"",this.state.newpost?r.a.createElement("div",null,"\u30bf\u30a4\u30c8\u30eb",r.a.createElement("input",{id:"newInfomationtitle",onChange:this.onChangeTitle,placeholder:"17\u6587\u5b57\u4ee5\u5185\u63a8\u5968"}),r.a.createElement("br",null),r.a.createElement("div",{id:"newInfomessageFlame"},r.a.createElement("p",{id:"newInfomessageTop"},"\u672c\u6587"),r.a.createElement("textarea",{id:"newInfomessageText",onChange:this.onChangeMessage})),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.addInformation,className:"bluebutton",style:{width:"200px"}},"\u6295\u7a3f")):"",r.a.createElement("div",{id:"infoFlameHolder"},r.a.createElement("div",{id:"infoFlame"},r.a.createElement("p",{id:"infoTableHeader"},"\u304a\u77e5\u3089\u305b\u4e00\u89a7"),r.a.createElement("table",{className:"infoTable"},r.a.createElement("thead",null,this.state.modal||this.state.changeablemodal?r.a.createElement("tr",null):r.a.createElement("tr",null,r.a.createElement("th",{className:"blank",id:"infoTableth"},"\u65e5\u4ed8"),r.a.createElement("th",{className:"blank",id:"infoTablethtitle"},"\u30bf\u30a4\u30c8\u30eb"),this.state.userdata.administer?r.a.createElement("th",{className:"blank",id:"infoTableth"},"\u5909\u66f4\u524a\u9664"):r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.informations.map(function(t){return r.a.createElement("tr",{key:t.id,id:"infotr"},r.a.createElement("td",null,r.a.createElement("button",{value:t.id,onClick:e.openModal,className:"infotablebutton"},e.dateformater(t.date))),r.a.createElement("td",null,r.a.createElement("button",{value:t.id,onClick:e.openModal,className:"infotablebutton"},t.title)),e.state.userdata.administer?r.a.createElement("td",null,r.a.createElement("button",{onClick:e.openChangeableModal,className:"bluebutton",value:t.id},"\u5909\u66f4"),r.a.createElement("button",{onClick:e.deleteInfo,className:"redbutton",value:t.id},"\u524a\u9664")):r.a.createElement("td",null))}))))),r.a.createElement(k.a,{isOpen:this.state.modal,onRequestClose:this.closeModal,style:B,contentLabel:"Register Modal"},r.a.createElement("input",{id:"informationTitle",value:this.state.selectinfo.title,readOnly:!0}),r.a.createElement("br",null),r.a.createElement("div",null,"\u6295\u7a3f\u65e5 ",this.dateformater(this.state.selectinfo.date)),r.a.createElement("div",{id:"newInfomessageFlame"},r.a.createElement("p",{id:"newInfomessageTop"},"\u672c\u6587"),r.a.createElement("textarea",{id:"newInfomessageText",value:this.state.selectinfo.message,readOnly:!0}))),r.a.createElement(k.a,{isOpen:this.state.changeablemodal,onRequestClose:this.closeChangeableModal,style:B,contentLabel:"Register Modal"},r.a.createElement("input",{id:"informationTitle",onChange:this.updateTitle,value:this.state.selectinfo.title}),r.a.createElement("div",null,"\u6295\u7a3f\u65e5 ",this.dateformater(this.state.selectinfo.date)),r.a.createElement("div",{id:"newInfomessageFlame"},r.a.createElement("p",{id:"newInfomessageTop"},"\u672c\u6587"),r.a.createElement("textarea",{id:"newInfomessageText",value:this.state.selectinfo.message,onChange:this.updateMessage})),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.updateInfo,className:"bluebutton",style:{width:"120px"}},"\u5909\u66f4"),r.a.createElement("button",{onClick:this.closeChangeableModal,className:"redbutton",style:{width:"120px"}},"\u9589\u3058\u308b")))}}]),t}(n.Component),q=a(89),z=a.n(q),Q=(a(163),function(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}),V=function(e){var t=new Date,a=Object(n.useState)(t),s=Object(O.a)(a,2),l=s[0],i=s[1];return r.a.createElement(z.a,{dateFormat:"yyyy/MM/dd",selected:l,onChange:function(t){i(t),e.onChange(t)},customInput:r.a.createElement("button",{className:"datepicker-button"},Q(l))})},G={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},formcontrol:{fontSize:"10px"}},K=function(e){var t=Object(n.useState)([]),a=Object(O.a)(t,2),s=a[0],l=a[1],i=Object(n.useState)([]),o=Object(O.a)(i,2),c=o[0],u=o[1],m=Object(n.useState)(new Date),d=Object(O.a)(m,2),h=d[0],f=d[1],p=Object(n.useState)(""),b=Object(O.a)(p,2),g=b[0],E=b[1],v=Object(n.useState)(!1),y=Object(O.a)(v,2),w=y[0],N=y[1],S=Object(n.useState)(""),C=Object(O.a)(S,2),D=C[0],x=C[1],M=Object(n.useState)(""),T=Object(O.a)(M,2),P=T[0],F=T[1],Y=Object(n.useState)(new Date("2019","11","01")),L=Object(O.a)(Y,2),R=L[0],_=L[1];Object(n.useEffect)(function(){fetch("/userdata").then(function(e){return e.json()}).then(function(t){t.administer?A():(alert("\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093"),e.history.push("/"))})},[]);var A=function(){fetch("/plandata").then(function(e){return e.json()}).then(function(e){return J(e)})},J=function(e){var t=[],a=[],n=!0,r=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;t[c.date]={text:c.text,date:c.date},a.push({text:c.text,date:c.date})}}catch(m){r=!0,s=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}u(a),l(t)},H=function(){N(!1)};return r.a.createElement("div",null,r.a.createElement("h1",null,"Plans"),r.a.createElement("div",{className:"flame",id:"plan-addflame"},r.a.createElement("p",{id:"addplanTitle"},"\u4e88\u5b9a\u8ffd\u52a0"),r.a.createElement("span",{id:"namesubtitle"},"\u5404\u65e5\u4ed8\u306b\u3064\u304d\uff11\u4ef6\u306e\u307f"),r.a.createElement("div",null,"\u65e5\u4ed8",r.a.createElement(V,{onChange:function(e){return f(e)},selectdate:h})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"\u4e88\u5b9a\u3092\u5165\u529b(\uff14\u6587\u5b57\u4ee5\u5185)",className:"plan-input",maxLength:"4",value:g,onChange:function(e){return E(e.target.value)}})),r.a.createElement("button",{className:"bluebutton",id:"plan-addbutton",onClick:function(){if(""!==g){var e=I(h),t={text:g,date:e};s[e]?window.confirm("\u3059\u3067\u306b\u4e88\u5b9a\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e0a\u66f8\u304d\u3057\u307e\u3059\u304b\uff1f\n\u4e88\u5b9a\uff1a\u300c"+s[e].text+"\u300d")&&fetch("/updateaddplandata",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u4e0a\u66f8\u304d\u3057\u307e\u3057\u305f"),A()}):fetch("/addplandata",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){alert("\u8ffd\u52a0\u3057\u307e\u3057\u305f"),A()})}else alert("\u4e88\u5b9a\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}},"\u8ffd\u52a0")),r.a.createElement("div",null,r.a.createElement("span",null,"\u30ea\u30b9\u30c8"),r.a.createElement("span",null,"\u30ab\u30ec\u30f3\u30c0\u30fc")),r.a.createElement("div",{className:"plantable-holder"},r.a.createElement("table",{className:"plantable"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"plantable-head"},r.a.createElement("td",{className:"plantable-td-date"},"\u65e5\u4ed8"),r.a.createElement("td",{className:"plantable-td-text"},"\u4e88\u5b9a"),r.a.createElement("td",{className:"plantable-td-button"},"\u524a\u9664"),r.a.createElement("td",{className:"plantable-td-button"},"\u5909\u66f4"))),r.a.createElement("tbody",{className:"plantable-tbody"},c.map(function(e){return r.a.createElement("tr",{key:e.date},r.a.createElement("td",{className:"plantable-td-date"},e.date),r.a.createElement("td",{className:"plantable-td-text"},e.text),r.a.createElement("td",{className:"plantable-td-button"},r.a.createElement("button",{className:"redbutton",onClick:function(){return t=e.date,void(window.confirm("\u524a\u9664\u3057\u307e\u3059\u304b\uff1f\n\u4e88\u5b9a\uff1a\u300c"+s[t].text+"\u300d")&&fetch("/deleteplandata",{method:"POST",body:JSON.stringify([t]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){A()}));var t}},"\u524a\u9664")),r.a.createElement("td",{className:"plantable-td-button"},r.a.createElement("button",{className:"bluebutton",onClick:function(){return t=e.date,N(!0),x(t),void F(s[t].text);var t}},"\u5909\u66f4")))})))),r.a.createElement("div",null,r.a.createElement(j,{receptionDate:R,plans:s,shifts:[],onChange:function(e){},setPrintdate:function(e){return _(e)}})),r.a.createElement(k.a,{isOpen:w,onRequestClose:H,style:G,contentLabel:"worktime Modal"},r.a.createElement("h2",{className:"modaltitle"},"\u5909\u66f4"),r.a.createElement("div",null,D,r.a.createElement("br",null),r.a.createElement("input",{value:P,onChange:function(e){F(e.target.value)},maxLength:"4"})),r.a.createElement("button",{className:"redbutton",onClick:H},"\u9589\u3058\u308b"),r.a.createElement("button",{className:"bluebutton",onClick:function(){if(""!==P){var e={text:P,date:D};fetch("/updateaddplandata",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){A()}),H()}else alert("\u7a7a\u6b04\u3067\u3059")}},"\u5909\u66f4")))},X=a(92),$=a.n(X),Z=a(93),ee=function(e,t){switch(t.type){case"set-user":return Object(Z.a)({},e,t.payload);case"reset-user":return ae;default:return e}},te=r.a.createContext(),ae={user:{userId:"",displayName:"",picture:"",username:"",worktime:"",administer:!1,regist:!1}};te.Consumer,n.Component;var ne=function(e){var t=r.a.useContext(te),a=t.state,n=t.dispatch;return r.a.useEffect(function(){},[a.user]),r.a.createElement("div",null,r.a.createElement("h1",null,"TestPage"),r.a.createElement("p",null,"\u73fe\u5728\u306e\u60c5\u5831"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u30c6\u30fc\u30de\u540d: ",a.user.username),r.a.createElement("li",null,"\u6587\u5b57\u8272: ",a.user.userId),r.a.createElement("li",null,"\u80cc\u666f\u8272: ",a.user.picture)),r.a.createElement("button",{onClick:function(){return n({type:"set-user",payload:{user:{username:"name",userId:"sampleId",picture:"http://"}}})}},"\u5909\u66f4"),r.a.createElement("button",{onClick:function(){return n({type:"reset-user"})}},"\u521d\u671f\u30c6\u30fc\u30de\u306b\u30ea\u30bb\u30c3\u30c8"))},re=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),s=(a[0],a[1]),l=Object(n.useState)(""),i=Object(O.a)(l,2),o=(i[0],i[1]);Object(n.useEffect)(function(){c(e.location.search)},[]);var c=function(e){var t=e.substr(1).split("&"),a=[],n=!0,r=!1,l=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var m=i.value.split("=");switch(m[0]){case"code":a.code=m[1],s(m[1]);break;case"state":a.state=m[1],o(m[1])}}}catch(d){r=!0,l=d}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}u(a)},u=function(t){if(null!=t.code&&null!=t.state){var a={code:t.code,state:t.state};fetch("/getuser",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(t){"clear"===t[0]?fetch("/regists").then(function(e){return e.json()}).then(function(t){switch(t[0]){case"new":e.history.push("/Register");break;case"user":e.history.push("/Home");break;default:m()}}):m()})}else m()},m=function(){alert("\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"),e.history.push("/")};return r.a.createElement("div",null,r.a.createElement("h1",null,"Loading"),r.a.createElement("div",{className:"loading"},r.a.createElement("span",{className:"loadingtext"},"Loading..."),r.a.createElement("div",{className:"orbit-spinner"},r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}))))},se=function(e){var t=Object(n.useState)(!0),a=Object(O.a)(t,2),s=a[0],l=a[1],i=Object(n.useState)([]),o=Object(O.a)(i,2),c=o[0],u=o[1],m=Object(n.useState)([]),d=Object(O.a)(m,2),h=d[0],f=d[1];Object(n.useEffect)(function(){fetch("/userdata").then(function(e){return e.json()}).then(function(t){t!==[]&&t.administer?(fetch("/memberlist").then(function(e){return e.json()}).then(function(e){return u(e)}),fetch("/getlogdata").then(function(e){return e.json()}).then(function(e){return f(e)}),l(!1)):(alert("\u30da\u30fc\u30b8\u3092\u958b\u3051\u307e\u305b\u3093"),e.history.push("/"))})},[]);var p=function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=c[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var l=r.value;if(e===l.userid)return l.name}}catch(i){a=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return"Not Exist"},b=function(e,t){return"\u7ba1\u7406\u8005\u8ffd\u52a0"===e||"\u7ba1\u7406\u8005\u5265\u596a"===e?"user["+p(t)+"]":"\u30e6\u30fc\u30b6\u30fc\u524a\u9664"===e?"deleted":t},g=function(e,t){return-1!==e.search(/\u30ed\u30b0\u30a4\u30f3/)?"logtable-td-login-detail":-1!==e.search(/\u524a\u9664|\u5265\u596a|\u9000\u4f1a/)?"logtable-td-delete-detail":-1!==e.search(/\u5909\u66f4|\u66f4\u65b0/)?"logtable-td-update-detail":"logtable-td-detail"};return r.a.createElement("div",null,r.a.createElement("h1",null,"Logs"),s?r.a.createElement("div",{className:"loading"},r.a.createElement("span",{className:"loadingtext"},"Loading..."),r.a.createElement("div",{className:"orbit-spinner"},r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}))):r.a.createElement("div",{className:"black-background"},r.a.createElement("p",{className:"logtitle"},"\u30e6\u30fc\u30b6\u30fc\u30ed\u30b0\u30ea\u30b9\u30c8"),r.a.createElement("table",{className:"logtable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"logtable-td-date"},"\u65e5\u4ed8"),r.a.createElement("th",{className:"logtable-td-user"},"\u5b9f\u884c\u30e6\u30fc\u30b6\u30fc"),r.a.createElement("th",{className:"logtable-td-key"},"\u51e6\u7406"),r.a.createElement("th",{className:"logtable-td-detail"},"\u5185\u5bb9"))),r.a.createElement("tbody",null,h.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"logtable-td-date"},function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}(e.date)),r.a.createElement("td",{className:(a=p(e.userid),"Not Exist"===a?"logtable-td-delete":"logtable-td-user")},p(e.userid)),r.a.createElement("td",{className:(t=e.key,-1!==t.search(/\u524a\u9664|\u5265\u596a|\u9000\u4f1a/)?"logtable-td-delete":-1!==t.search(/\u30ed\u30b0\u30a4\u30f3/)?"logtable-td-login":-1!==t.search(/\u5909\u66f4|\u66f4\u65b0/)?"logtable-td-update":"logtable-td-key")},e.key),r.a.createElement("td",{className:g(e.key,b(e.key,e.detail))},b(e.key,e.detail)));var t,a})))))};function le(){return r.a.createElement("div",{className:"loading"},r.a.createElement("span",{className:"loadingtext"},"Loading..."),r.a.createElement("div",{className:"orbit-spinner"},r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"}),r.a.createElement("div",{className:"orbit"})))}a(170);var ie={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},formcontrol:{fontSize:"10px"}};k.a.setAppElement("#root");var oe=function(e){var t=r.a.useContext(te),a=t.state,s=(t.dispatch,Object(n.useState)(new Date)),l=Object(O.a)(s,2),i=l[0],o=l[1],c=Object(n.useState)([]),u=Object(O.a)(c,2),m=u[0],d=u[1],h=Object(n.useState)(""),f=Object(O.a)(h,2),p=f[0],b=f[1],g=Object(n.useState)([]),E=Object(O.a)(g,2),w=E[0],N=E[1],S=Object(n.useState)([]),C=Object(O.a)(S,2),D=C[0],x=C[1],M=Object(n.useState)("x"),T=Object(O.a)(M,2),P=T[0],F=T[1],Y=Object(n.useState)(!0),L=Object(O.a)(Y,2),R=L[0],_=L[1],A=Object(n.useState)(!1),J=Object(O.a)(A,2),H=J[0],U=J[1],B=Object(n.useState)("09:00"),W=Object(O.a)(B,2),q=W[0],z=W[1],Q=Object(n.useState)("23:45"),V=Object(O.a)(Q,2),G=V[0],K=V[1],X=Object(n.useState)(""),$=Object(O.a)(X,2),Z=$[0],ee=$[1],ae=["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30","23:45"];Object(n.useEffect)(function(){o(ne()),fetch("/userdata").then(function(e){return e.json()}).then(function(t){t.administer?(fetch("/memberlist").then(function(e){return e.json()}).then(function(e){d(e)}),b(t.username),re(t.userId)):e.history.push("/")})},[a.user]);var ne=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate();return 10<n&&25>n?new Date(t,a,16):10>=n?new Date(t,a,1):new Date(t,a+1,1)},re=function(e){fetch("/shiftdatabyid",{method:"POST",body:JSON.stringify([e]),headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var i=s.value;t[i.date]={text:i.detail}}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}N(t),x(t.slice()),_(!1)})},se=function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=m[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var l=r.value;if(e===l.name)return l.userid}}catch(i){a=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return""},oe=function(){var e=Object(y.a)(v.a.mark(function e(){var t,a,n,r,s,l,i,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t=[],a="\u5bfe\u8c61\u30e6\u30fc\u30b6\u30fc\uff1a"+p+"\n",n=[],D)null==w[r]&&""!==D[r].text&&(n.push({date:r,text:D[r].text}),a+="\u8ffd\u52a0"+r+":["+D[r].text+"]\n");for(l in n.length>0&&t.push(ce("/addshiftdatabyid",n)),s=[],D)null!=w[l]&&""===D[l].text&&(s.push({date:l,text:D[l].text}),a+="\u524a\u9664"+l+":["+D[l].text+"]\n");for(o in s.length>0&&t.push(ce("/deleteshiftdatabyid",s)),i=[],w)w[o].text!==D[o].text&&""!==D[o].text&&(i.push({date:o,text:D[o].text}),a+="\u66f4\u65b0"+o+":["+D[o].text+"]\n");if(i.length>0&&t.push(ce("/updateshiftdatabyid",i)),a+="\u767b\u9332\u3057\u307e\u3059\u304b\uff1f",!window.confirm(a)){e.next=17;break}return e.next=15,Promise.all(t);case 15:N(D.slice()),window.confirm("\u767b\u9332\u3057\u307e\u3057\u305f");case 17:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ce=function(e,t){var a={id:se(p),shift:t};fetch(""+e,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"},mode:"cors"})};return r.a.createElement("div",null,r.a.createElement("h1",null,"ShiftAdministar"),r.a.createElement("div",{id:"explain"},"\u767b\u9332\u30e6\u30fc\u30b6\u30fc\u306e\u30b7\u30d5\u30c8\u5e0c\u671b\u3092\u8ffd\u52a0\u5909\u66f4\u3067\u304d\u307e\u3059",r.a.createElement("br",null),"\u5404\u30e6\u30fc\u30b6\u30fc\u3054\u3068\u306b\u767b\u9332\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002"),r.a.createElement("div",null,"\u8868\u793a\u4e2d\u30e6\u30fc\u30b6\u30fc",r.a.createElement("span",null,r.a.createElement("select",{onChange:function(e){return function(e){var t=se(e);""!==t&&(_(!0),b(e),re(t))}(e.target.value)},value:p,id:"userselect"},m.map(function(e){return r.a.createElement("option",{key:e.userid},e.name)})))),r.a.createElement("div",{className:"itemholder"},r.a.createElement("button",{className:"redbutton",onClick:function(e){return F("X")}},"\u2715"),r.a.createElement("button",{className:"greenbutton",onClick:function(e){return F("\u25b3")}},"\u25b3"),r.a.createElement("button",{className:"bluebutton",onClick:function(e){return F("time")}},"\u6642\u9593\u6307\u5b9a")),R?r.a.createElement(le,null):r.a.createElement("span",null,r.a.createElement(j,{receptionDate:i,shifts:D,plans:[],onChange:function(e){return function(e){var t=I(e);null==D[t]||""===D[t].text?"time"===P?(ee(t),U(!0)):D[t]={text:P}:P===D[t].text?D[t]={text:""}:D[t]="time"===P?{text:""}:{text:P},x(D)}(e)},setPrintdate:function(e){return o(e)}}),r.a.createElement("button",{className:"redbutton",id:"shiftadministarregist",onClick:function(e){return oe()}},"\u767b\u9332")),r.a.createElement(k.a,{isOpen:H,onAfterOpen:function(){},onRequestClose:function(e){return U(!1)},style:ie,contentLabel:"worktime Modal"},r.a.createElement("h2",{className:"modaltitle"},"\u51fa\u52e4\u53ef\u80fd\u6642\u9593\u3092\u9078\u629e"),r.a.createElement("div",null,r.a.createElement("select",{className:"timeselect",onChange:function(e){return z(e.target.value)},value:q},ae.map(function(e){return r.a.createElement("option",{key:e},e)})),"\uff5e",r.a.createElement("select",{className:"timeselect",onChange:function(e){return K(e.target.value)},value:G},ae.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("button",{className:"redbutton",onClick:function(e){return U(!1)}},"\u9589\u3058\u308b"),r.a.createElement("button",{className:"bluebutton",onClick:function(e){q>=G?alert("\u4e0d\u53ef\u80fd\u306a\u6642\u9593\u3067\u3059"):(D[Z]={text:q+"-"+G},U(!1))}},"\u6c7a\u5b9a")))},ce=(a(171),a(172),a(173),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Shift-Resercher"),r.a.createElement("span",null,"\u30b7\u30d5\u30c8\u5e0c\u671b\u8a18\u5165\u30b5\u30a4\u30c8",r.a.createElement("br",null),"LINE\u3067\u767b\u9332\uff06\u30ed\u30b0\u30a4\u30f3",r.a.createElement("br",null),"\u2193\u3000\u2193\u3000\u2193"),r.a.createElement("form",{action:"/auths",method:"GET"},r.a.createElement("input",{type:"submit",className:"login_button",value:""})),r.a.createElement("span",{id:"developer"},"Developed by itoyu"))}}]),t}(n.Component)),ue=function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Norican&display=swap",rel:"stylesheet"}),r.a.createElement(h.a,{exact:!0,path:"/",component:ce}),r.a.createElement(h.a,{path:"/Register",component:g}),r.a.createElement(h.a,{path:"/Home",component:L}),r.a.createElement(h.a,{path:"/Setting",component:H}),r.a.createElement(h.a,{path:"/Wishlist",component:U}),r.a.createElement(h.a,{path:"/Information",component:W}),r.a.createElement(h.a,{path:"/Plans",component:K}),r.a.createElement(h.a,{path:"/TestPage",component:ne}),r.a.createElement(h.a,{path:"/Log",component:se}),r.a.createElement(h.a,{path:"/ShiftAdministar",component:oe}),r.a.createElement(h.a,{exact:!0,path:"/Callback",component:re})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(function(e){var t=r.a.useReducer(ee,ae),a=Object(O.a)(t,2),n={state:a[0],dispatch:a[1]};return r.a.createElement(te.Provider,{value:n},e.children)},null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,a){e.exports=a.p+"static/media/share.181ecb46.svg"},95:function(e,t,a){e.exports=a(174)}},[[95,1,2]]]);
//# sourceMappingURL=main.aecf7b21.chunk.js.map