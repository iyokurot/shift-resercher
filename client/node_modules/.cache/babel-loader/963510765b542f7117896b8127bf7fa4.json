{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\03yuk\\\\Desktop\\\\private\\\\react\\\\shift-reserch3\\\\client\\\\src\\\\Homelocal.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Calendar from 'react-calendar';\n\nclass Homelocal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userdata: [],\n      date: new Date(),\n      //today\n      receptionDate: new Date(),\n      //受付中\n      clickdate: new Date(),\n      //クリック\n      stamp: \"x\",\n      calendarlist: [],\n      month_days: {\n        20190814: {\n          text: 'x'\n        },\n        20190820: {\n          text: '17:00-23:00'\n        }\n      }\n    };\n    this.getDateReception = this.getDateReception.bind(this);\n  }\n\n  componentDidMount() {\n    //ユーザーデータ取得\n    fetch('/testuserdata').then(res => res.json()).then(data => this.setState({\n      userdata: data\n    }));\n    this.getDate();\n    this.getDateReception();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"\\u30B7\\u30D5\\u30C8\\u5E0C\\u671B\"), \"\\u3088\\u3046\\u3053\\u305D\", this.state.userdata.username, \"\\u3055\\u3093\", React.createElement(Link, {\n      to: \"/Setting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"\\u8A2D\\u5B9A\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), \"data\\u78BA\\u8A8D------\", React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, this.state.userdata.username), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.state.userdata.userId), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, this.state.userdata.displayName), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.state.userdata.picture), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, this.state.userdata.worktime), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.state.userdata.administer), \"----------\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, this.state.date.getFullYear(), \" \", this.state.date.getMonth() + 1, \"\\u6708\", this.state.receptionDate.getDate(), \"\\u65E5\\uFF5E\\u53D7\\u4ED8\\u4E2D\"), React.createElement(\"span\", {\n      id: \"dateText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"batu\",\n      onClick: this.onClickstamp.bind(this, \"x\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"\\xD7\"), React.createElement(\"button\", {\n      id: \"sankaku\",\n      onClick: this.onClickstamp.bind(this, \"△\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"\\u25B3\"), React.createElement(\"button\", {\n      id: \"timeset\",\n      onClick: this.onClickstamp.bind(this, \"time\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Time\"), React.createElement(\"div\", {\n      id: \"calendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(Calendar, {\n      locale: \"ja-JP\",\n      calendarType: \"US\",\n      value: this.state.date,\n      tileContent: this.getTileContent.bind(this),\n      onChange: value => this.dayClick(value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"\\u88DC\\u8DB3\\u5E0C\\u671B\", React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      name: \"dataday\",\n      \"data-dataday\": \"8/1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"textarea\",\n      name: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"\\u767B\\u9332\"))));\n  }\n\n  getDate() {\n    const weeks = ['日', '月', '火', '水', '木', '金', '土'];\n    const date = new Date();\n    let year = date.getFullYear();\n    let month = date.getMonth() + 1;\n    console.log(year + \"/\" + month + \"/\" + date.getDate() + \" \" + weeks[date.getDay()]);\n  }\n\n  getFormatDate(date) {\n    return \"\".concat(date.getFullYear()).concat(('0' + (date.getMonth() + 1)).slice(-2)).concat(('0' + date.getDate()).slice(-2));\n  } //受付中日にち\n\n\n  getDateReception() {\n    let day = this.state.date.getDate();\n    var setday = this.state.date.getFullYear() + \"/\" + (this.state.date.getMonth() + 1);\n\n    if (day > 10 && day < 24) {\n      setday += \"/16\";\n      this.setState({\n        receptionDate: new Date(setday)\n      });\n    } else {\n      setday += \"/1\";\n      this.setState({\n        receptionDate: new Date(setday)\n      });\n    }\n  }\n\n  getTileContent({\n    date,\n    view\n  }) {\n    // 月表示のときのみ\n    if (view !== 'month') {\n      return null;\n    }\n\n    const day = this.getFormatDate(date);\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.month_days[day] && this.state.month_days[day].text ? this.state.month_days[day].text : '  ', \"tes\");\n  }\n\n  onClickstamp(value) {\n    this.setState({\n      stamp: value\n    });\n  } //日付クリック\n\n\n  dayClick(value) {\n    this.setState({\n      clickdate: value\n    }); //受付中か\n\n    if (this.state.receptionDate <= value) {\n      var dayslist = this.state.month_days;\n      var clickday = value.getFullYear() + (\"0\" + (value.getMonth() + 1)).slice(-2) + (\"0\" + value.getDate()).slice(-2); //空or重複判定\n\n      if (null == dayslist[clickday] || \"\" == dayslist[clickday].text) {\n        //stampが記号か日付で分岐\n        dayslist[clickday] = {\n          text: this.state.stamp\n        };\n      } else if (this.state.stamp == dayslist[clickday].text) {\n        dayslist[clickday] = {\n          text: \"\"\n        };\n      } else if (this.state.stamp != dayslist[clickday].text) {\n        //stampが記号か日付で分岐\n        dayslist[clickday] = {\n          text: this.state.stamp\n        };\n      }\n\n      this.setState({\n        month_days: dayslist\n      });\n    }\n  }\n\n}\n\nexport default Homelocal;","map":{"version":3,"sources":["C:\\Users\\03yuk\\Desktop\\private\\react\\shift-reserch3\\client\\src\\Homelocal.js"],"names":["React","Component","Link","Calendar","Homelocal","constructor","props","state","userdata","date","Date","receptionDate","clickdate","stamp","calendarlist","month_days","text","getDateReception","bind","componentDidMount","fetch","then","res","json","data","setState","getDate","render","username","userId","displayName","picture","worktime","administer","getFullYear","getMonth","onClickstamp","getTileContent","value","dayClick","weeks","year","month","console","log","getDay","getFormatDate","slice","day","setday","view","dayslist","clickday"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Calendar from 'react-calendar';\r\n\r\nclass Homelocal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userdata: [],\r\n            date: new Date(),//today\r\n            receptionDate: new Date(),//受付中\r\n            clickdate: new Date(),//クリック\r\n            stamp: \"x\",\r\n            calendarlist: [],\r\n            month_days: {\r\n                20190814: { text: 'x' },\r\n                20190820: { text: '17:00-23:00' }\r\n            }\r\n        }\r\n        this.getDateReception = this.getDateReception.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        //ユーザーデータ取得\r\n        fetch('/testuserdata')\r\n            .then(res => res.json())\r\n            .then(data => this.setState({ userdata: data }))\r\n        this.getDate();\r\n        this.getDateReception();\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>シフト希望</h1>\r\n                ようこそ{this.state.userdata.username}さん\r\n                <Link to=\"/Setting\">設定</Link>\r\n\r\n                <br></br>data確認------\r\n                <div>{this.state.userdata.username}</div>\r\n                <div>{this.state.userdata.userId}</div>\r\n                <div>{this.state.userdata.displayName}</div>\r\n                <div>{this.state.userdata.picture}</div>\r\n                <div>{this.state.userdata.worktime}</div>\r\n                <div>{this.state.userdata.administer}</div>\r\n                ----------<br></br>\r\n                <h2>{this.state.date.getFullYear()} {this.state.date.getMonth() + 1}月\r\n                {this.state.receptionDate.getDate()}日～受付中</h2>\r\n\r\n                <span id=\"dateText\"></span>\r\n                <button id=\"batu\" onClick={this.onClickstamp.bind(this, \"x\")}>×</button>\r\n                <button id=\"sankaku\" onClick={this.onClickstamp.bind(this, \"△\")}>△</button>\r\n                <button id=\"timeset\" onClick={this.onClickstamp.bind(this, \"time\")}>Time</button>\r\n                <div id=\"calendar\"></div>\r\n                <Calendar\r\n                    locale=\"ja-JP\"\r\n                    calendarType=\"US\"\r\n                    value={this.state.date}\r\n                    tileContent={this.getTileContent.bind(this)}\r\n                    onChange={(value) => this.dayClick(value)}\r\n                />\r\n\r\n                <div>\r\n                    補足希望\r\n                    <form>\r\n                        <span name=\"dataday\" data-dataday=\"8/1\"></span>\r\n                        <input type=\"textarea\" name=\"comment\"></input>\r\n                        <button>登録</button>\r\n                    </form>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getDate() {\r\n        const weeks = ['日', '月', '火', '水', '木', '金', '土']\r\n        const date = new Date()\r\n        let year = date.getFullYear()\r\n        let month = date.getMonth() + 1\r\n        console.log(year + \"/\" + month + \"/\" + date.getDate() + \" \" + weeks[date.getDay()]);\r\n    }\r\n    getFormatDate(date) {\r\n        return `${date.getFullYear()}${('0' + (date.getMonth() + 1)).slice(-2)}${('0' + date.getDate()).slice(-2)}`;\r\n    }\r\n\r\n    //受付中日にち\r\n    getDateReception() {\r\n        let day = this.state.date.getDate();\r\n        var setday = this.state.date.getFullYear() + \"/\" + (this.state.date.getMonth() + 1);\r\n        if (day > 10 && day < 24) {\r\n            setday += \"/16\";\r\n            this.setState({\r\n                receptionDate: new Date(setday)\r\n            })\r\n        } else {\r\n            setday += \"/1\";\r\n            this.setState({\r\n                receptionDate: new Date(setday)\r\n            })\r\n        }\r\n    }\r\n    getTileContent({ date, view }) {\r\n        // 月表示のときのみ\r\n        if (view !== 'month') {\r\n            return null;\r\n        }\r\n        const day = this.getFormatDate(date);\r\n        return (\r\n            <p>\r\n\r\n                {(this.state.month_days[day] && this.state.month_days[day].text) ?\r\n                    this.state.month_days[day].text : '  '\r\n                }\r\n                tes\r\n            </p>\r\n        );\r\n    }\r\n\r\n    onClickstamp(value) {\r\n        this.setState({\r\n            stamp: value\r\n        })\r\n    }\r\n    //日付クリック\r\n    dayClick(value) {\r\n        this.setState({ clickdate: value })\r\n        //受付中か\r\n        if (this.state.receptionDate <= value) {\r\n            var dayslist = this.state.month_days;\r\n            var clickday = value.getFullYear() + (\"0\" + (value.getMonth() + 1)).slice(-2) + (\"0\" + value.getDate()).slice(-2);\r\n            //空or重複判定\r\n            if (null == dayslist[clickday] || \"\" == dayslist[clickday].text) {\r\n                //stampが記号か日付で分岐\r\n                dayslist[clickday] = { text: this.state.stamp }\r\n            } else if (this.state.stamp == dayslist[clickday].text) {\r\n                dayslist[clickday] = { text: \"\" }\r\n            } else if (this.state.stamp != dayslist[clickday].text) {\r\n                //stampが記号か日付で分岐\r\n                dayslist[clickday] = { text: this.state.stamp }\r\n            }\r\n\r\n            this.setState({ month_days: dayslist })\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Homelocal;"]},"metadata":{},"sourceType":"module"}